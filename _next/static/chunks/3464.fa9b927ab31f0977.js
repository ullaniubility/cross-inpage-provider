(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3464],{1715:function(n,e,t){"use strict";t.d(e,{F:function(){return o}});var o=[{name:"SEAM",url:"https://app.seam.money/"},{name:"Aptos Names",url:"https://www.aptosnames.com/"},{name:"Liquid Swap",url:"https://liquidswap.com/#/"}]},17611:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return App}});var o=t(15861),c=t(86854),i=t(67294),a=t(63596),r=t(6424),s=t(1715),l=t(84284),u=t(85893),useProvider=function(){var n=(0,i.useState)(),e=(0,c.Z)(n,2),t=e[0],o=e[1];return(0,i.useEffect)(function(){console.log("useProvider",window.martian),o(window.martian||new a.GR({}))},[]),t};function App(){var n,e,t,a,d,f,p,g,h,b,x,y,m,j,C,_,T,k,A,S=useProvider(),w=(0,i.useState)(""),v=(0,c.Z)(w,2),Z=v[0],N=v[1],I=(0,i.useState)(!1),G=(0,c.Z)(I,2),D=G[0],F=G[1],H=(0,i.useState)(null),E=(0,c.Z)(H,2),K=E[0],B=E[1],z=(0,i.useState)("OneKey-Collection"),L=(0,c.Z)(z,2),M=L[0],O=L[1],R=(0,i.useState)("OneKey-NFT-1"),U=(0,c.Z)(R,2),P=U[0],V=U[1];if((0,i.useEffect)(function(){if(S)return S.onNetworkChange(function(n){N(n),console.log("aptos [onNetworkChange] ".concat(n))}),S.onAccountChange(function(n){B(n),n?(F(!0),console.log("aptos [onAccountChange] Switched account to ".concat(n))):(F(!1),console.log("aptos [onAccountChange] Switched unknown account"),S.connect().then(function(){return console.log("[accountChanged] Reconnected successfully")}).catch(function(n){console.log("[accountChanged] Failed to re-connect: ".concat(n.message))}))}),function(){S.disconnect()}},[S]),!S)return(0,u.jsx)("h2",{children:"Could not find a provider"});var X=(n=(0,o.Z)(function*(){try{var n=yield S.connect(),e=yield S.network();B(n.address),N(e),F(!0),console.log("[connectWallet] account",n,e)}catch(n){console.warn(n),console.log("[error] connect: ".concat(JSON.stringify(n)))}}),function(){return n.apply(this,arguments)}),q=(e=(0,o.Z)(function*(){try{yield S.disconnect()}catch(n){console.warn(n),console.log("[error] disconnect: ".concat(JSON.stringify(n)))}}),function(){return e.apply(this,arguments)}),J=(t=(0,o.Z)(function*(){var n=yield S.generateTransaction(K,{function:"0x1::coin::transfer",type_arguments:["0x1::aptos_coin::AptosCoin"],arguments:[K,50]},{max_gas_amount:"10000"});return console.log("[generateTransaction]",n),n}),function(){return t.apply(this,arguments)}),W=(a=(0,o.Z)(function*(){var n=yield J();console.log("[signAndSubmitTransaction]",(yield S.signAndSubmitTransaction(n)))}),function(){return a.apply(this,arguments)}),Q=(d=(0,o.Z)(function*(){var n=yield J(),e=yield S.signTransaction(n);return console.log("[signTransaction]",e),e}),function(){return d.apply(this,arguments)}),Y=(f=(0,o.Z)(function*(){var n=yield Q();console.log("[submitTransaction]",(yield S.submitTransaction(n)))}),function(){return f.apply(this,arguments)}),$=(p=(0,o.Z)(function*(){console.log("[signGenericTransaction]",(yield S.signGenericTransaction({func:"0x1::coin::transfer",args:[K,500],type_args:["0x1::aptos_coin::AptosCoin"]})))}),function(){return p.apply(this,arguments)}),nn=(g=(0,o.Z)(function*(){console.log("[generateSignAndSubmitTransaction]",(yield S.generateSignAndSubmitTransaction(K,{function:"0x1::coin::transfer",type_arguments:["0x1::aptos_coin::AptosCoin"],arguments:[K,50]})))}),function(){return g.apply(this,arguments)}),ne=(h=(0,o.Z)(function*(){console.log("[signMessage]",(yield S.signMessage({address:!1,application:!0,chainId:!0,message:"This is a sample message",nonce:12345})))}),function(){return h.apply(this,arguments)}),nt=(b=(0,o.Z)(function*(){console.log("[createCollection]",(yield S.createCollection(M,"CollectionDescription","https://aptos.dev")))}),function(){return b.apply(this,arguments)}),no=(x=(0,o.Z)(function*(){console.log("[createToken]",(yield S.createToken(M,P,"TokenDescription",1,"https://aptos.dev/img/nyan.jpeg",1)))}),function(){return x.apply(this,arguments)}),nc=(y=(0,o.Z)(function*(){console.log("[getTransactions]",(yield S.getTransactions()))}),function(){return y.apply(this,arguments)}),ni=(m=(0,o.Z)(function*(){console.log("[getTransaction]",(yield S.getTransaction("0x407c189992aa2b5a25b3645a3dc6a8b5c9ec2792d214ab9a04b7acc6b7465a00")))}),function(){return m.apply(this,arguments)}),na=(j=(0,o.Z)(function*(){console.log("[getAccountTransactions]",(yield S.getAccountTransactions(K)))}),function(){return j.apply(this,arguments)}),nr=(C=(0,o.Z)(function*(){console.log("[getAccountResources]",(yield S.getAccountResources(K)))}),function(){return C.apply(this,arguments)}),ns=(_=(0,o.Z)(function*(){console.log("[getAccount]",(yield S.getAccount(K)))}),function(){return _.apply(this,arguments)}),nl=(T=(0,o.Z)(function*(){console.log("[getChainId]",(yield S.getChainId()))}),function(){return T.apply(this,arguments)}),nu=(k=(0,o.Z)(function*(){console.log("[getLedgerInfo]",(yield S.getLedgerInfo()))}),function(){return k.apply(this,arguments)}),nd=(A=(0,o.Z)(function*(){var n="0xaa90e0d9d16b63ba4a289fb0dc8d1b454058b21c9b5c76864f825d5c1f32582e",e=new l.Ce.Serializer;l.Ce.serializeVector(["0x5c7b342e9ee2e582ad16fb602e8ebb6ba39b3bfa02a4fd3865853b10dc75765f","0xa3f6a53c57395401ce64f09a188e2259dc9b156387e76c88a7a80a8fe5254476"].map(function(n){return l.Kj.AccountAddress.fromHex(n)}),e);var t=new l.Kj.TransactionPayloadEntryFunction(l.Kj.EntryFunction.natural("0xaa90e0d9d16b63ba4a289fb0dc8d1b454058b21c9b5c76864f825d5c1f32582e::creator","init_wallet_creation",[],[e.getBytes(),l.Ce.bcsSerializeU8(2),l.Ce.bcsSerializeUint64(1e7),l.Ce.bcsSerializeBytes(new l.i8("b5e97db07fa0bd0e5598aa3643a9bc6f6693bddc1a9fec9e674a461eaa00b193a527b6487c9ba480a3dbfbc351a3fcafd0a5044a0b3c877f759fa5df64a692f1000000000000000002aa90e0d9d16b63ba4a289fb0dc8d1b454058b21c9b5c76864f825d5c1f32582e0d6d6f6d656e74756d5f7361666508726567697374657200010c0b77616c6c6574206e616d65e02e0000000000007800000000000000fa7984630000000001").toUint8Array()),l.Ce.bcsSerializeBytes(new l.i8("fc284900723375e6b087a166c04edf6a1b71a361ad671608a849b733a878aaf910150dcf28e0f197675137abb328db6b55a6d98bee53413ad49c16549c1f0701").toUint8Array())])),o=yield S.getAccount(n).then(function(n){return BigInt(n.sequence_number)+BigInt(1)}),c=new l.Kj.RawTransaction(l.Kj.AccountAddress.fromHex(n),o,t,BigInt(20123),BigInt(123),BigInt(1793884475),new l.Kj.ChainId(1)),i=l.Ce.bcsToBytes(c),a=yield S.signTransaction(l.i8.fromUint8Array(i).noPrefix()),r=Uint8Array.from(a.split(",").map(function(n){return Number(n)}));console.log("[msafeMultiSignature] success ",JSON.stringify(l.Kj.SignedTransaction.deserialize(new l.Ce.Deserializer(r)),function(n,e){return"bigint"==typeof e?e.toString():e}))}),function(){return A.apply(this,arguments)});return(0,u.jsxs)("div",{children:[(0,u.jsx)(r.p,{dapps:s.F}),!S&&(0,u.jsx)("a",{target:"_blank",href:"https://www.onekey.so/download/",children:"Install OneKey Extension →"}),(0,u.jsx)("main",{children:S&&D?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("pre",{children:["Network: ",Z]}),(0,u.jsxs)("pre",{children:["Connected as: ",K]})]}),(0,u.jsx)("button",{onClick:J,children:"Generate Transaction"}),(0,u.jsx)("button",{onClick:W,children:"Sign&Send Transaction"}),(0,u.jsx)("button",{onClick:Q,children:"Sign Transaction "}),(0,u.jsx)("button",{onClick:Y,children:"Submit Transaction "}),(0,u.jsx)("button",{onClick:$,children:"Sign Generic Transaction "}),(0,u.jsxs)("button",{onClick:nn,children:["Generate Sign&Send Transaction"," "]}),(0,u.jsx)("button",{onClick:ne,children:"Sign Message"}),(0,u.jsx)("button",{onClick:nc,children:"Get Transactions"}),(0,u.jsx)("button",{onClick:ni,children:"Get Transaction"}),(0,u.jsx)("button",{onClick:na,children:"Get Account Transaction"}),(0,u.jsx)("button",{onClick:nr,children:"Get Account Resources"}),(0,u.jsx)("button",{onClick:ns,children:"Get Account"}),(0,u.jsx)("button",{onClick:nl,children:"Get ChainId"}),(0,u.jsx)("button",{onClick:nu,children:"Get LedgerInfo"}),(0,u.jsx)("button",{onClick:function(){return q()},children:"Disconnect"}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{border:"1px solid #cccccc",flexDirection:"column"},children:[(0,u.jsxs)("pre",{children:["Collection Name: ",(0,u.jsx)("input",{type:"text",placeholder:"Collection Name",value:M,onChange:function(n){return O(n.target.value)}})," 不能重名，要改名字。"]}),(0,u.jsx)("pre",{children:(0,u.jsx)("button",{onClick:nt,children:"Create Collection"})})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{border:"1px solid #cccccc",flexDirection:"column"},children:[(0,u.jsxs)("pre",{children:["Collection Name: ",(0,u.jsx)("input",{type:"text",placeholder:"Collection Name",value:M,onChange:function(n){return O(n.target.value)}})," 指定链上已经存在的 Collection Name。"]}),(0,u.jsxs)("pre",{children:["NFT Name: ",(0,u.jsx)("input",{type:"text",placeholder:"Token Name",value:P,onChange:function(n){return V(n.target.value)}})," NFT Name 不能重名，要改名字。"]}),(0,u.jsx)("pre",{children:(0,u.jsx)("button",{onClick:no,children:"Create Token"})})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{border:"1px solid #cccccc",flexDirection:"column"},children:["Msafe Multi-signature Demo (Mainnet)",(0,u.jsx)("pre",{children:(0,u.jsx)("button",{onClick:nd,children:"Sign Transaction"})})]})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("button",{onClick:function(){return X()},children:"Connect Wallet"})})})]})}},6424:function(n,e,t){"use strict";t.d(e,{p:function(){return DAppList}}),t(67294);var o=t(36612),c=t.n(o),i=t(85893);function DAppList(n){var e=n.dapps;return(0,i.jsxs)("div",{className:c().container,children:[(0,i.jsx)("h3",{children:"Top DApps"}),(0,i.jsx)("ul",{children:e.map(function(n){return(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:n.url,target:"_blank",children:[n.name," ↗"]})},n.name)})})]})}},36612:function(n){n.exports={container:"Home_container__d256j",main:"Home_main__VkIEL",footer:"Home_footer__yFiaX",title:"Home_title__hYX6j",description:"Home_description__uXNdx",code:"Home_code__VVrIr",grid:"Home_grid__AVljO",card:"Home_card__E5spL",logo:"Home_logo__IOQAX"}},55024:function(){}}]);
//# sourceMappingURL=3464.fa9b927ab31f0977.js.map