"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9129],{2849:function(e,t,r){r.d(t,{$5:function(){return U},P6:function(){return tz},a:function(){return tP},i8:function(){return e6},j6:function(){return e5}});var n,i=r(27715),a=r(16441),o=r(60804),s=r(15866),u=r(91094),c=r(79480),l=r.n(c),d=r(46195),f=r.n(d),h=r(7961),p=r.n(h),v=r(46260),m=r.n(v),g=r(82139),y=r.n(g),_=r(1581),z=r(96486),T=r(6731),b=r(6881),w=r(37707),k=r(55395),S=r.n(k),E=r(48764).Buffer;function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var P={SINGLE:0,MULTI:1};function formatStructTag(e){var t=e.address+"::"+e.module+"::"+e.name;if(e.type_params&&e.type_params.length>0){t=(t=t.concat("<")).concat(formatTypeTag(e.type_params[0]));for(var r,n=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(e.type_params.slice(1));!(r=n()).done;){var i=r.value;t=t.concat(",").concat(formatTypeTag(i))}t=t.concat(">")}return t}function formatTypeTag(e){if("string"==typeof e)return e.toLowerCase();if("object"==typeof e){if(void 0!==e.Vector)return"vector<"+formatTypeTag(e.Vector)+">";if(void 0!==e.Struct)return formatStructTag(e.Struct)}}function formatFunctionId(e){return"string"!=typeof e?e.address+"::"+e.module+"::"+e.functionName:e}var A=function(){function BinaryDeserializer(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}var e=BinaryDeserializer.prototype;return e.read=function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},e.deserializeStr=function(){var e=this.deserializeBytes();return BinaryDeserializer.textDecoder.decode(e)},e.deserializeBytes=function(){var e=this.deserializeLen();if(e<0)throw Error("Length of a bytes array can't be negative");return new Uint8Array(this.read(e))},e.deserializeBool=function(){return 1==new Uint8Array(this.read(1))[0]},e.deserializeUnit=function(){return null},e.deserializeU8=function(){return new DataView(this.read(1)).getUint8(0)},e.deserializeU16=function(){return new DataView(this.read(2)).getUint16(0,!0)},e.deserializeU32=function(){return new DataView(this.read(4)).getUint32(0,!0)},e.deserializeU64=function(){var e=this.deserializeU32();return BigInt(this.deserializeU32())<<BinaryDeserializer.BIG_32|BigInt(e)},e.deserializeU128=function(){var e=this.deserializeU64();return BigInt(this.deserializeU64())<<BinaryDeserializer.BIG_64|BigInt(e)},e.deserializeI8=function(){return new DataView(this.read(1)).getInt8(0)},e.deserializeI16=function(){return new DataView(this.read(2)).getInt16(0,!0)},e.deserializeI32=function(){return new DataView(this.read(4)).getInt32(0,!0)},e.deserializeI64=function(){var e=this.deserializeI32();return BigInt(this.deserializeI32())<<BinaryDeserializer.BIG_32|BigInt(e)},e.deserializeI128=function(){var e=this.deserializeI64();return BigInt(this.deserializeI64())<<BinaryDeserializer.BIG_64|BigInt(e)},e.deserializeOptionTag=function(){return this.deserializeBool()},e.getBufferOffset=function(){return this.offset},e.deserializeChar=function(){throw Error("Method deserializeChar not implemented.")},e.deserializeF32=function(){return new DataView(this.read(4)).getFloat32(0,!0)},e.deserializeF64=function(){return new DataView(this.read(8)).getFloat64(0,!0)},BinaryDeserializer}();A.BIG_32=BigInt(32),A.BIG_64=BigInt(64),A.textDecoder=new TextDecoder;var I=function(e){function BcsDeserializer(t){return e.call(this,t)||this}_inheritsLoose(BcsDeserializer,e);var t=BcsDeserializer.prototype;return t.deserializeUleb128AsU32=function(){for(var e=0,t=0;t<32;t+=7){var r=this.deserializeU8(),n=127&r;if((e|=n<<t)<0||e>BcsDeserializer.MAX_UINT_32)break;if(n==r){if(t>0&&0==n)throw Error("Invalid uleb128 number (unexpected zero digit)");return e}}throw Error("Overflow while parsing uleb128-encoded uint32 value")},t.deserializeLen=function(){return this.deserializeUleb128AsU32()},t.deserializeVariantIndex=function(){return this.deserializeUleb128AsU32()},t.checkThatKeySlicesAreIncreasing=function(e,t){},BcsDeserializer}(A);I.MAX_UINT_32=4294967295;var V=function(){function BinarySerializer(){this.buffer=new ArrayBuffer(64),this.offset=0}var e=BinarySerializer.prototype;return e.ensureBufferWillHandleSize=function(e){for(;this.buffer.byteLength<this.offset+e;){var t=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}},e.serialize=function(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length},e.serializeStr=function(e){this.serializeBytes(BinarySerializer.textEncoder.encode(e))},e.serializeBytes=function(e){this.serializeLen(e.length),this.serialize(e)},e.serializeBool=function(e){this.serialize(new Uint8Array([e?1:0]))},e.serializeUnit=function(e){},e.serializeWithFunction=function(e,t,r){this.ensureBufferWillHandleSize(t);var n=new DataView(this.buffer,this.offset);e.apply(n,[0,r,!0]),this.offset+=t},e.serializeU8=function(e){this.serialize(new Uint8Array([e]))},e.serializeU16=function(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)},e.serializeU32=function(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)},e.serializeU64=function(e){var t=BigInt(e)&BinarySerializer.BIG_32Fs,r=BigInt(e)>>BinarySerializer.BIG_32;this.serializeU32(Number(t)),this.serializeU32(Number(r))},e.serializeU128=function(e){var t=BigInt(e)&BinarySerializer.BIG_64Fs,r=BigInt(e)>>BinarySerializer.BIG_64;this.serializeU64(t),this.serializeU64(r)},e.serializeI8=function(e){this.ensureBufferWillHandleSize(1),new DataView(this.buffer,this.offset).setInt8(0,e),this.offset+=1},e.serializeI16=function(e){this.ensureBufferWillHandleSize(2),new DataView(this.buffer,this.offset).setInt16(0,e,!0),this.offset+=2},e.serializeI32=function(e){this.ensureBufferWillHandleSize(4),new DataView(this.buffer,this.offset).setInt32(0,e,!0),this.offset+=4},e.serializeI64=function(e){var t=BigInt(e)&BinarySerializer.BIG_32Fs,r=BigInt(e)>>BinarySerializer.BIG_32;this.serializeI32(Number(t)),this.serializeI32(Number(r))},e.serializeI128=function(e){var t=BigInt(e)&BinarySerializer.BIG_64Fs,r=BigInt(e)>>BinarySerializer.BIG_64;this.serializeI64(t),this.serializeI64(r)},e.serializeOptionTag=function(e){this.serializeBool(e)},e.getBufferOffset=function(){return this.offset},e.getBytes=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.serializeChar=function(e){throw Error("Method serializeChar not implemented.")},e.serializeF32=function(e){this.ensureBufferWillHandleSize(4),new DataView(this.buffer,this.offset).setFloat32(0,e,!0),this.offset+=4},e.serializeF64=function(e){this.ensureBufferWillHandleSize(8),new DataView(this.buffer,this.offset).setFloat64(0,e,!0),this.offset+=8},BinarySerializer}();V.BIG_32=BigInt(32),V.BIG_64=BigInt(64),V.BIG_32Fs=BigInt("4294967295"),V.BIG_64Fs=BigInt("18446744073709551615"),V.textEncoder=new TextEncoder;var B=function(e){function BcsSerializer(){return e.call(this)||this}_inheritsLoose(BcsSerializer,e);var t=BcsSerializer.prototype;return t.serializeU32AsUleb128=function(e){for(var t=[];e>>>7!=0;)t.push(127&e|128),e>>>=7;t.push(e),this.serialize(new Uint8Array(t))},t.serializeLen=function(e){this.serializeU32AsUleb128(e)},t.serializeVariantIndex=function(e){this.serializeU32AsUleb128(e)},t.sortMapEntries=function(e){},BcsSerializer}(V),U={__proto__:null,BcsDeserializer:I,BcsSerializer:B};function dec2bin(e){return("00000000000000000000000000000000"+(e>>>0).toString(2)).slice(-32)}function bin2dec(e){return Number.parseInt(Number.parseInt(e,2).toString(10),10)}function dec2uint8array(e){var t=dec2bin(e).match(/.{1,8}/g);return Uint8Array.from(t.map(function(e){return bin2dec(e)}))}function uint8array2dec(e){var t=[];return e.forEach(function(e){return t.push(dec2bin(e).slice(-8))}),bin2dec(t.join(""))}function setBit(e,t){if(t>31||t<0)throw Error("mask: invalid idx at "+t+", should be between 0 and 31");return e|1<<32-t-1}function isSetBit(e,t){if(t>31||t<0)throw Error("mask: invalid idx at "+t+", should be between 0 and 31");return(e>>32-t-1)%2!=0}var x={ValidationError:"Key or signature material deserializes, but is otherwise not valid",WrongLengthError:"Key, threshold or signature material does not have the expected size",BitVecError:"BitVec errors in accountable multi-sig schemes"},N=function(){function AccessPath(e,t){this.field0=e,this.field1=t}return AccessPath.prototype.serialize=function(e){this.field0.serialize(e),this.field1.serialize(e)},AccessPath.deserialize=function(e){var t=C.deserialize(e),r=K.deserialize(e);return new AccessPath(t,r)},AccessPath}(),C=function(){function AccountAddress(e){this.value=e}return AccountAddress.prototype.serialize=function(e){eY.serializeArray16U8Array(this.value,e)},AccountAddress.deserialize=function(e){var t=eY.deserializeArray16U8Array(e);return new AccountAddress(t)},AccountAddress}();C.LENGTH=16;var R=function(){function ArgumentABI(e,t){this.name=e,this.type_tag=t}return ArgumentABI.prototype.serialize=function(e){e.serializeStr(this.name),this.type_tag.serialize(e)},ArgumentABI.deserialize=function(e){var t=e.deserializeStr(),r=eR.deserialize(e);return new ArgumentABI(t,r)},ArgumentABI}(),O=function(){function AuthenticationKey(e){this.value=e}return AuthenticationKey.prototype.serialize=function(e){e.serializeBytes(this.value)},AuthenticationKey.deserialize=function(e){var t=e.deserializeBytes();return new AuthenticationKey(t)},AuthenticationKey}(),F=function(){function BlockMetadata(e,t,r,n,i,a,o,s){this.parent_hash=e,this.timestamp=t,this.author=r,this.author_auth_key=n,this.uncles=i,this.number=a,this.chain_id=o,this.parent_gas_used=s}return BlockMetadata.prototype.serialize=function(e){this.parent_hash.serialize(e),e.serializeU64(this.timestamp),this.author.serialize(e),eY.serializeOptionAuthenticationKey(this.author_auth_key,e),e.serializeU64(this.uncles),e.serializeU64(this.number),this.chain_id.serialize(e),e.serializeU64(this.parent_gas_used)},BlockMetadata.deserialize=function(e){var t=Q.deserialize(e),r=e.deserializeU64(),n=C.deserialize(e),i=eY.deserializeOptionAuthenticationKey(e),a=e.deserializeU64(),o=e.deserializeU64(),s=M.deserialize(e),u=e.deserializeU64();return new BlockMetadata(t,r,n,i,a,o,s,u)},BlockMetadata}(),M=function(){function ChainId(e){this.id=e}return ChainId.prototype.serialize=function(e){e.serializeU8(this.id)},ChainId.deserialize=function(e){var t=e.deserializeU8();return new ChainId(t)},ChainId}(),D=function(e){function ContractEventVariantV0(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(ContractEventVariantV0,e),ContractEventVariantV0.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},ContractEventVariantV0.load=function(e){var t=H.deserialize(e);return new ContractEventVariantV0(t)},ContractEventVariantV0}(function(){function ContractEvent(){}return ContractEvent.deserialize=function(e){var t=e.deserializeVariantIndex();if(0===t)return D.load(e);throw Error("Unknown variant index for ContractEvent: "+t)},ContractEvent}()),H=function(){function ContractEventV0(e,t,r,n){this.key=e,this.sequence_number=t,this.type_tag=r,this.event_data=n}return ContractEventV0.prototype.serialize=function(e){this.key.serialize(e),e.serializeU64(this.sequence_number),this.type_tag.serialize(e),e.serializeBytes(this.event_data)},ContractEventV0.deserialize=function(e){var t=X.deserialize(e),r=e.deserializeU64(),n=eR.deserialize(e),i=e.deserializeBytes();return new ContractEventV0(t,r,n,i)},ContractEventV0}(),K=function(){function DataPath(){}return DataPath.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return L.load(e);case 1:return j.load(e);default:throw Error("Unknown variant index for DataPath: "+t)}},DataPath}(),L=function(e){function DataPathVariantCode(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(DataPathVariantCode,e),DataPathVariantCode.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},DataPathVariantCode.load=function(e){var t=Z.deserialize(e);return new DataPathVariantCode(t)},DataPathVariantCode}(K),j=function(e){function DataPathVariantResource(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(DataPathVariantResource,e),DataPathVariantResource.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},DataPathVariantResource.load=function(e){var t=em.deserialize(e);return new DataPathVariantResource(t)},DataPathVariantResource}(K),W=function(){function DataType(){}return DataType.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return G.load(e);case 1:return q.load(e);default:throw Error("Unknown variant index for DataType: "+t)}},DataType}(),G=function(e){function DataTypeVariantCODE(){return e.call(this)||this}return _inheritsLoose(DataTypeVariantCODE,e),DataTypeVariantCODE.prototype.serialize=function(e){e.serializeVariantIndex(0)},DataTypeVariantCODE.load=function(e){return new DataTypeVariantCODE},DataTypeVariantCODE}(W),q=function(e){function DataTypeVariantRESOURCE(){return e.call(this)||this}return _inheritsLoose(DataTypeVariantRESOURCE,e),DataTypeVariantRESOURCE.prototype.serialize=function(e){e.serializeVariantIndex(1)},DataTypeVariantRESOURCE.load=function(e){return new DataTypeVariantRESOURCE},DataTypeVariantRESOURCE}(W),J=function(){function Ed25519PrivateKey(e){this.value=e}return Ed25519PrivateKey.prototype.serialize=function(e){e.serializeBytes(this.value)},Ed25519PrivateKey.deserialize=function(e){var t=e.deserializeBytes();return new Ed25519PrivateKey(t)},Ed25519PrivateKey}(),Y=function(){function Ed25519PublicKey(e){this.value=e}return Ed25519PublicKey.prototype.serialize=function(e){e.serializeBytes(this.value)},Ed25519PublicKey.deserialize=function(e){var t=e.deserializeBytes();return new Ed25519PublicKey(t)},Ed25519PublicKey}(),$=function(){function Ed25519Signature(e){this.value=e}return Ed25519Signature.prototype.serialize=function(e){e.serializeBytes(this.value)},Ed25519Signature.deserialize=function(e){var t=e.deserializeBytes();return new Ed25519Signature(t)},Ed25519Signature}(),X=function(){function EventKey(e){this.value=e}return EventKey.prototype.serialize=function(e){e.serializeBytes(this.value)},EventKey.deserialize=function(e){var t=e.deserializeBytes();return new EventKey(t)},EventKey}(),Q=function(){function HashValue(e){this.value=e}return HashValue.prototype.serialize=function(e){e.serializeBytes(this.value)},HashValue.deserialize=function(e){var t=e.deserializeBytes();return new HashValue(t)},HashValue}(),Z=function(){function Identifier(e){this.value=e}return Identifier.prototype.serialize=function(e){e.serializeStr(this.value)},Identifier.deserialize=function(e){var t=e.deserializeStr();return new Identifier(t)},Identifier}(),ee=function(){function KeyRotationCapabilityResource(e){this.account_address=e}return KeyRotationCapabilityResource.prototype.serialize=function(e){this.account_address.serialize(e)},KeyRotationCapabilityResource.deserialize=function(e){var t=C.deserialize(e);return new KeyRotationCapabilityResource(t)},KeyRotationCapabilityResource}(),et=function(){function Module(e){this.code=e}return Module.prototype.serialize=function(e){e.serializeBytes(this.code)},Module.deserialize=function(e){var t=e.deserializeBytes();return new Module(t)},Module}(),er=function(){function ModuleId(e,t){this.address=e,this.name=t}return ModuleId.prototype.serialize=function(e){this.address.serialize(e),this.name.serialize(e)},ModuleId.deserialize=function(e){var t=C.deserialize(e),r=Z.deserialize(e);return new ModuleId(t,r)},ModuleId}(),en=function(){function MultiEd25519PublicKey(e,t){this.public_keys=e,this.threshold=t;var r=e.length;if(0===t||r<t)throw Error(x.ValidationError);if(r>32)throw Error(x.WrongLengthError)}var e=MultiEd25519PublicKey.prototype;return e.serialize=function(e){e.serializeBytes(this.value())},MultiEd25519PublicKey.deserialize=function(e){for(var t=e.deserializeBytes(),r=[],n=(t.length-1)/32,i=0;i<n;i++){var a=32*i,o=a+32;r.push(new Y(t.slice(a,o)))}var s=new DataView(t.slice(-1).buffer,0).getUint8(0);return new MultiEd25519PublicKey(r,s)},e.value=function(){var e=[];this.public_keys.forEach(function(t){e.push(t.value)});var t=new Uint8Array(1);return t[0]=this.threshold,(0,a.zo)([].concat(e,t))},MultiEd25519PublicKey}(),ei=function(){function MultiEd25519Signature(e,t){this.signatures=e,this.bitmap=t}MultiEd25519Signature.build=function(e){var t=e.length;if(0===t||t>32)throw Error(x.ValidationError);var r=e.sort(function(e,t){return e[1]>t[1]?1:-1}),n=[],i=0;return r.forEach(function(e,t){if(console.log(e,t),e[1]>=32)throw Error(x.BitVecError+": Signature index is out of range");if(isSetBit(i,e[1]))throw Error(x.BitVecError+": Duplicate signature index");n.push(e[0]),i=setBit(i,e[1])}),new MultiEd25519Signature(n,i)};var e=MultiEd25519Signature.prototype;return e.serialize=function(e){e.serializeBytes(this.value())},MultiEd25519Signature.deserialize=function(e){for(var t=e.deserializeBytes(),r=[],n=(t.length-4)/64,i=0;i<n;i++){var a=64*i,o=a+64;r.push(new $(t.slice(a,o)))}var s=uint8array2dec(t.slice(-4));return new MultiEd25519Signature(r,s)},e.value=function(){var e=[];this.signatures.forEach(function(t){e.push(t.value)});var t=dec2uint8array(this.bitmap);return(0,a.zo)([].concat(e,t))},MultiEd25519Signature}(),ea=function(){function MultiEd25519SignatureShard(e,t){this.signature=e,this.threshold=t}var e=MultiEd25519SignatureShard.prototype;return e.signatures=function(){var e=this.signature.signatures,t=this.signature.bitmap,r=[],n=0;return e.forEach(function(e,i){for(;!isSetBit(t,n);)n+=1;r.push([e,n]),n+=1}),r},MultiEd25519SignatureShard.merge=function(e){if(0===e.length)throw Error("MultiEd25519SignatureShard shards is empty");var t=e[0].threshold,r=[];return e.forEach(function(e){if(e.threshold!==t)throw Error("MultiEd25519SignatureShard shards threshold not same");r.push.apply(r,e.signatures())}),new MultiEd25519SignatureShard(ei.build(r),t)},e.is_enough=function(){return this.signature.signatures.length>=this.threshold},MultiEd25519SignatureShard}(),eo=function(){function MultiEd25519KeyShard(e,t,r){this.public_keys=e,this.threshold=t,this.private_keys=r;var n=e.length,i=Object.keys(r).length;if(0===t||0===i||n<t)throw Error(x.ValidationError);if(i>32||n>32)throw Error(x.WrongLengthError)}var e=MultiEd25519KeyShard.prototype;return e.serialize=function(e){var t=this;e.serializeU8(this.public_keys.length),e.serializeU8(this.threshold),e.serializeU8(this.len()),this.public_keys.forEach(function(t){t.serialize(e)}),Object.keys(this.private_keys).forEach(function(r){e.serializeU8(Number.parseInt(r,10)),t.private_keys[r].serialize(e)})},MultiEd25519KeyShard.deserialize=function(e){for(var t=e.deserializeU8(),r=e.deserializeU8(),n=e.deserializeU8(),i=[],a=0;a<t;a++)i.push(Y.deserialize(e));for(var o=0;o<n;o++){var s=e.deserializeU8(),u=J.deserialize(e);i[s]=u}return new MultiEd25519KeyShard(i,r,[])},e.publicKey=function(){return new en(this.public_keys,this.threshold)},e.privateKeys=function(){return Object.values(this.private_keys)},e.privateKey=function(){var e=new Uint8Array(3);e[0]=this.public_keys.length,e[1]=this.threshold,e[2]=this.len();var t=[];this.public_keys.forEach(function(e){t.push(e.value)});var r=[];return Object.values(this.private_keys).forEach(function(e){r.push(e.value)}),(0,a.zo)([e].concat(t,r))},e.len=function(){return Object.values(this.private_keys).length},e.isEmpty=function(){return 0===this.len()},MultiEd25519KeyShard}(),es=function(){function Package(e,t,r){this.package_address=e,this.modules=t,this.init_script=r}return Package.prototype.serialize=function(e){this.package_address.serialize(e),eY.serializeVectorModule(this.modules,e),eY.serializeOptionScriptFunction(this.init_script,e)},Package.deserialize=function(e){var t=C.deserialize(e),r=eY.deserializeVectorModule(e),n=eY.deserializeOptionScriptFunction(e);return new Package(t,r,n)},Package}(),eu=function(){function RawUserTransaction(e,t,r,n,i,a,o,s){this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.gas_token_code=a,this.expiration_timestamp_secs=o,this.chain_id=s}return RawUserTransaction.prototype.serialize=function(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeStr(this.gas_token_code),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)},RawUserTransaction.deserialize=function(e){var t=C.deserialize(e),r=e.deserializeU64(),n=eV.deserialize(e),i=e.deserializeU64(),a=e.deserializeU64(),o=e.deserializeStr(),s=e.deserializeU64(),u=M.deserialize(e);return new RawUserTransaction(t,r,n,i,a,o,s,u)},RawUserTransaction}(),ec=function(){function Script(e,t,r){this.code=e,this.ty_args=t,this.args=r}return Script.prototype.serialize=function(e){e.serializeBytes(this.code),eY.serializeVectorTypeTag(this.ty_args,e),eY.serializeVectorBytes(this.args,e)},Script.deserialize=function(e){var t=e.deserializeBytes(),r=eY.deserializeVectorTypeTag(e),n=eY.deserializeVectorBytes(e);return new Script(t,r,n)},Script}(),el=function(){function ScriptABI(){}return ScriptABI.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return ed.load(e);case 1:return ef.load(e);default:throw Error("Unknown variant index for ScriptABI: "+t)}},ScriptABI}(),ed=function(e){function ScriptABIVariantTransactionScript(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(ScriptABIVariantTransactionScript,e),ScriptABIVariantTransactionScript.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},ScriptABIVariantTransactionScript.load=function(e){var t=eN.deserialize(e);return new ScriptABIVariantTransactionScript(t)},ScriptABIVariantTransactionScript}(el),ef=function(e){function ScriptABIVariantScriptFunction(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(ScriptABIVariantScriptFunction,e),ScriptABIVariantScriptFunction.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},ScriptABIVariantScriptFunction.load=function(e){var t=ep.deserialize(e);return new ScriptABIVariantScriptFunction(t)},ScriptABIVariantScriptFunction}(el),eh=function(){function ScriptFunction(e,t,r,n){this.module=e,this.func=t,this.ty_args=r,this.args=n}return ScriptFunction.prototype.serialize=function(e){this.module.serialize(e),this.func.serialize(e),eY.serializeVectorTypeTag(this.ty_args,e),eY.serializeVectorBytes(this.args,e)},ScriptFunction.deserialize=function(e){var t=er.deserialize(e),r=Z.deserialize(e),n=eY.deserializeVectorTypeTag(e),i=eY.deserializeVectorBytes(e);return new ScriptFunction(t,r,n,i)},ScriptFunction}(),ep=function(){function ScriptFunctionABI(e,t,r,n,i){this.name=e,this.module_name=t,this.doc=r,this.ty_args=n,this.args=i}return ScriptFunctionABI.prototype.serialize=function(e){e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),eY.serializeVectorTypeArgumentAbi(this.ty_args,e),eY.serializeVectorArgumentAbi(this.args,e)},ScriptFunctionABI.deserialize=function(e){var t=e.deserializeStr(),r=er.deserialize(e),n=e.deserializeStr(),i=eY.deserializeVectorTypeArgumentAbi(e),a=eY.deserializeVectorArgumentAbi(e);return new ScriptFunctionABI(t,r,n,i,a)},ScriptFunctionABI}(),ev=function(){function SignedUserTransaction(e,t){this.raw_txn=e,this.authenticator=t}return SignedUserTransaction.prototype.serialize=function(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)},SignedUserTransaction.deserialize=function(e){var t=eu.deserialize(e),r=eP.deserialize(e);return new SignedUserTransaction(t,r)},SignedUserTransaction.ed25519=function(e,t,r){var n=new eA(t,r);return new SignedUserTransaction(e,n)},SignedUserTransaction.multi_ed25519=function(e,t,r){var n=new eI(t,r);return new SignedUserTransaction(e,n)},SignedUserTransaction}(),em=function(){function StructTag(e,t,r,n){this.address=e,this.module=t,this.name=r,this.type_params=n}return StructTag.prototype.serialize=function(e){this.address.serialize(e),this.module.serialize(e),this.name.serialize(e),eY.serializeVectorTypeTag(this.type_params,e)},StructTag.deserialize=function(e){var t=C.deserialize(e),r=Z.deserialize(e),n=Z.deserialize(e),i=eY.deserializeVectorTypeTag(e);return new StructTag(t,r,n,i)},StructTag}(),eg=function(){function Transaction(){}return Transaction.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return ey.load(e);case 1:return e_.load(e);default:throw Error("Unknown variant index for Transaction: "+t)}},Transaction}(),ey=function(e){function TransactionVariantUserTransaction(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionVariantUserTransaction,e),TransactionVariantUserTransaction.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},TransactionVariantUserTransaction.load=function(e){var t=ev.deserialize(e);return new TransactionVariantUserTransaction(t)},TransactionVariantUserTransaction}(eg),e_=function(e){function TransactionVariantBlockMetadata(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionVariantBlockMetadata,e),TransactionVariantBlockMetadata.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},TransactionVariantBlockMetadata.load=function(e){var t=F.deserialize(e);return new TransactionVariantBlockMetadata(t)},TransactionVariantBlockMetadata}(eg),ez=function(){function TransactionArgument(){}return TransactionArgument.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return eT.load(e);case 1:return eb.load(e);case 2:return ew.load(e);case 3:return ek.load(e);case 4:return eS.load(e);case 5:return eE.load(e);default:throw Error("Unknown variant index for TransactionArgument: "+t)}},TransactionArgument}(),eT=function(e){function TransactionArgumentVariantU8(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionArgumentVariantU8,e),TransactionArgumentVariantU8.prototype.serialize=function(e){e.serializeVariantIndex(0),e.serializeU8(this.value)},TransactionArgumentVariantU8.load=function(e){var t=e.deserializeU8();return new TransactionArgumentVariantU8(t)},TransactionArgumentVariantU8}(ez),eb=function(e){function TransactionArgumentVariantU64(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionArgumentVariantU64,e),TransactionArgumentVariantU64.prototype.serialize=function(e){e.serializeVariantIndex(1),e.serializeU64(this.value)},TransactionArgumentVariantU64.load=function(e){var t=e.deserializeU64();return new TransactionArgumentVariantU64(t)},TransactionArgumentVariantU64}(ez),ew=function(e){function TransactionArgumentVariantU128(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionArgumentVariantU128,e),TransactionArgumentVariantU128.prototype.serialize=function(e){e.serializeVariantIndex(2),e.serializeU128(this.value)},TransactionArgumentVariantU128.load=function(e){var t=e.deserializeU128();return new TransactionArgumentVariantU128(t)},TransactionArgumentVariantU128}(ez),ek=function(e){function TransactionArgumentVariantAddress(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionArgumentVariantAddress,e),TransactionArgumentVariantAddress.prototype.serialize=function(e){e.serializeVariantIndex(3),this.value.serialize(e)},TransactionArgumentVariantAddress.load=function(e){var t=C.deserialize(e);return new TransactionArgumentVariantAddress(t)},TransactionArgumentVariantAddress}(ez),eS=function(e){function TransactionArgumentVariantU8Vector(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionArgumentVariantU8Vector,e),TransactionArgumentVariantU8Vector.prototype.serialize=function(e){e.serializeVariantIndex(4),e.serializeBytes(this.value)},TransactionArgumentVariantU8Vector.load=function(e){var t=e.deserializeBytes();return new TransactionArgumentVariantU8Vector(t)},TransactionArgumentVariantU8Vector}(ez),eE=function(e){function TransactionArgumentVariantBool(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionArgumentVariantBool,e),TransactionArgumentVariantBool.prototype.serialize=function(e){e.serializeVariantIndex(5),e.serializeBool(this.value)},TransactionArgumentVariantBool.load=function(e){var t=e.deserializeBool();return new TransactionArgumentVariantBool(t)},TransactionArgumentVariantBool}(ez),eP=function(){function TransactionAuthenticator(){}return TransactionAuthenticator.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return eA.load(e);case 1:return eI.load(e);default:throw Error("Unknown variant index for TransactionAuthenticator: "+t)}},TransactionAuthenticator}(),eA=function(e){function TransactionAuthenticatorVariantEd25519(t,r){var n;return(n=e.call(this)||this).public_key=t,n.signature=r,n}return _inheritsLoose(TransactionAuthenticatorVariantEd25519,e),TransactionAuthenticatorVariantEd25519.prototype.serialize=function(e){e.serializeVariantIndex(0),this.public_key.serialize(e),this.signature.serialize(e)},TransactionAuthenticatorVariantEd25519.load=function(e){var t=Y.deserialize(e),r=$.deserialize(e);return new TransactionAuthenticatorVariantEd25519(t,r)},TransactionAuthenticatorVariantEd25519}(eP),eI=function(e){function TransactionAuthenticatorVariantMultiEd25519(t,r){var n;return(n=e.call(this)||this).public_key=t,n.signature=r,n}return _inheritsLoose(TransactionAuthenticatorVariantMultiEd25519,e),TransactionAuthenticatorVariantMultiEd25519.prototype.serialize=function(e){e.serializeVariantIndex(1),this.public_key.serialize(e),this.signature.serialize(e)},TransactionAuthenticatorVariantMultiEd25519.load=function(e){var t=en.deserialize(e),r=ei.deserialize(e);return new TransactionAuthenticatorVariantMultiEd25519(t,r)},TransactionAuthenticatorVariantMultiEd25519}(eP),eV=function(){function TransactionPayload(){}return TransactionPayload.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return eB.load(e);case 1:return eU.load(e);case 2:return ex.load(e);default:throw Error("Unknown variant index for TransactionPayload: "+t)}},TransactionPayload}(),eB=function(e){function TransactionPayloadVariantScript(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionPayloadVariantScript,e),TransactionPayloadVariantScript.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},TransactionPayloadVariantScript.load=function(e){var t=ec.deserialize(e);return new TransactionPayloadVariantScript(t)},TransactionPayloadVariantScript}(eV),eU=function(e){function TransactionPayloadVariantPackage(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionPayloadVariantPackage,e),TransactionPayloadVariantPackage.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},TransactionPayloadVariantPackage.load=function(e){var t=es.deserialize(e);return new TransactionPayloadVariantPackage(t)},TransactionPayloadVariantPackage}(eV),ex=function(e){function TransactionPayloadVariantScriptFunction(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TransactionPayloadVariantScriptFunction,e),TransactionPayloadVariantScriptFunction.prototype.serialize=function(e){e.serializeVariantIndex(2),this.value.serialize(e)},TransactionPayloadVariantScriptFunction.load=function(e){var t=eh.deserialize(e);return new TransactionPayloadVariantScriptFunction(t)},TransactionPayloadVariantScriptFunction}(eV),eN=function(){function TransactionScriptABI(e,t,r,n,i){this.name=e,this.doc=t,this.code=r,this.ty_args=n,this.args=i}return TransactionScriptABI.prototype.serialize=function(e){e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),eY.serializeVectorTypeArgumentAbi(this.ty_args,e),eY.serializeVectorArgumentAbi(this.args,e)},TransactionScriptABI.deserialize=function(e){var t=e.deserializeStr(),r=e.deserializeStr(),n=e.deserializeBytes(),i=eY.deserializeVectorTypeArgumentAbi(e),a=eY.deserializeVectorArgumentAbi(e);return new TransactionScriptABI(t,r,n,i,a)},TransactionScriptABI}(),eC=function(){function TypeArgumentABI(e){this.name=e}return TypeArgumentABI.prototype.serialize=function(e){e.serializeStr(this.name)},TypeArgumentABI.deserialize=function(e){var t=e.deserializeStr();return new TypeArgumentABI(t)},TypeArgumentABI}(),eR=function(){function TypeTag(){}return TypeTag.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return eO.load(e);case 1:return eF.load(e);case 2:return eM.load(e);case 3:return eD.load(e);case 4:return eH.load(e);case 5:return eK.load(e);case 6:return eL.load(e);case 7:return ej.load(e);default:throw Error("Unknown variant index for TypeTag: "+t)}},TypeTag}(),eO=function(e){function TypeTagVariantBool(){return e.call(this)||this}return _inheritsLoose(TypeTagVariantBool,e),TypeTagVariantBool.prototype.serialize=function(e){e.serializeVariantIndex(0)},TypeTagVariantBool.load=function(e){return new TypeTagVariantBool},TypeTagVariantBool}(eR),eF=function(e){function TypeTagVariantU8(){return e.call(this)||this}return _inheritsLoose(TypeTagVariantU8,e),TypeTagVariantU8.prototype.serialize=function(e){e.serializeVariantIndex(1)},TypeTagVariantU8.load=function(e){return new TypeTagVariantU8},TypeTagVariantU8}(eR),eM=function(e){function TypeTagVariantU64(){return e.call(this)||this}return _inheritsLoose(TypeTagVariantU64,e),TypeTagVariantU64.prototype.serialize=function(e){e.serializeVariantIndex(2)},TypeTagVariantU64.load=function(e){return new TypeTagVariantU64},TypeTagVariantU64}(eR),eD=function(e){function TypeTagVariantU128(){return e.call(this)||this}return _inheritsLoose(TypeTagVariantU128,e),TypeTagVariantU128.prototype.serialize=function(e){e.serializeVariantIndex(3)},TypeTagVariantU128.load=function(e){return new TypeTagVariantU128},TypeTagVariantU128}(eR),eH=function(e){function TypeTagVariantAddress(){return e.call(this)||this}return _inheritsLoose(TypeTagVariantAddress,e),TypeTagVariantAddress.prototype.serialize=function(e){e.serializeVariantIndex(4)},TypeTagVariantAddress.load=function(e){return new TypeTagVariantAddress},TypeTagVariantAddress}(eR),eK=function(e){function TypeTagVariantSigner(){return e.call(this)||this}return _inheritsLoose(TypeTagVariantSigner,e),TypeTagVariantSigner.prototype.serialize=function(e){e.serializeVariantIndex(5)},TypeTagVariantSigner.load=function(e){return new TypeTagVariantSigner},TypeTagVariantSigner}(eR),eL=function(e){function TypeTagVariantVector(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TypeTagVariantVector,e),TypeTagVariantVector.prototype.serialize=function(e){e.serializeVariantIndex(6),this.value.serialize(e)},TypeTagVariantVector.load=function(e){var t=eR.deserialize(e);return new TypeTagVariantVector(t)},TypeTagVariantVector}(eR),ej=function(e){function TypeTagVariantStruct(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(TypeTagVariantStruct,e),TypeTagVariantStruct.prototype.serialize=function(e){e.serializeVariantIndex(7),this.value.serialize(e)},TypeTagVariantStruct.load=function(e){var t=em.deserialize(e);return new TypeTagVariantStruct(t)},TypeTagVariantStruct}(eR),eW=function(){function WithdrawCapabilityResource(e){this.account_address=e}return WithdrawCapabilityResource.prototype.serialize=function(e){this.account_address.serialize(e)},WithdrawCapabilityResource.deserialize=function(e){var t=C.deserialize(e);return new WithdrawCapabilityResource(t)},WithdrawCapabilityResource}(),eG=function(){function WriteOp(){}return WriteOp.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return eq.load(e);case 1:return eJ.load(e);default:throw Error("Unknown variant index for WriteOp: "+t)}},WriteOp}(),eq=function(e){function WriteOpVariantDeletion(){return e.call(this)||this}return _inheritsLoose(WriteOpVariantDeletion,e),WriteOpVariantDeletion.prototype.serialize=function(e){e.serializeVariantIndex(0)},WriteOpVariantDeletion.load=function(e){return new WriteOpVariantDeletion},WriteOpVariantDeletion}(eG),eJ=function(e){function WriteOpVariantValue(t){var r;return(r=e.call(this)||this).value=t,r}return _inheritsLoose(WriteOpVariantValue,e),WriteOpVariantValue.prototype.serialize=function(e){e.serializeVariantIndex(1),e.serializeBytes(this.value)},WriteOpVariantValue.load=function(e){var t=e.deserializeBytes();return new WriteOpVariantValue(t)},WriteOpVariantValue}(eG),eY=function(){function Helpers(){}return Helpers.serializeArray16U8Array=function(e,t){e.forEach(function(e){t.serializeU8(e[0])})},Helpers.deserializeArray16U8Array=function(e){for(var t=[],r=0;r<16;r++)t.push([e.deserializeU8()]);return t},Helpers.serializeOptionAuthenticationKey=function(e,t){e?(t.serializeOptionTag(!0),e.serialize(t)):t.serializeOptionTag(!1)},Helpers.deserializeOptionAuthenticationKey=function(e){return e.deserializeOptionTag()?O.deserialize(e):null},Helpers.serializeOptionKeyRotationCapabilityResource=function(e,t){e?(t.serializeOptionTag(!0),e.serialize(t)):t.serializeOptionTag(!1)},Helpers.deserializeOptionKeyRotationCapabilityResource=function(e){return e.deserializeOptionTag()?ee.deserialize(e):null},Helpers.serializeOptionScriptFunction=function(e,t){e?(t.serializeOptionTag(!0),e.serialize(t)):t.serializeOptionTag(!1)},Helpers.deserializeOptionScriptFunction=function(e){return e.deserializeOptionTag()?eh.deserialize(e):null},Helpers.serializeOptionWithdrawCapabilityResource=function(e,t){e?(t.serializeOptionTag(!0),e.serialize(t)):t.serializeOptionTag(!1)},Helpers.deserializeOptionWithdrawCapabilityResource=function(e){return e.deserializeOptionTag()?eW.deserialize(e):null},Helpers.serializeTuple2AccessPathWriteOp=function(e,t){e[0].serialize(t),e[1].serialize(t)},Helpers.deserializeTuple2AccessPathWriteOp=function(e){return[N.deserialize(e),eG.deserialize(e)]},Helpers.serializeVectorArgumentAbi=function(e,t){t.serializeLen(e.length),e.forEach(function(e){e.serialize(t)})},Helpers.deserializeVectorArgumentAbi=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(R.deserialize(e));return r},Helpers.serializeVectorModule=function(e,t){t.serializeLen(e.length),e.forEach(function(e){e.serialize(t)})},Helpers.deserializeVectorModule=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(et.deserialize(e));return r},Helpers.serializeVectorTypeArgumentAbi=function(e,t){t.serializeLen(e.length),e.forEach(function(e){e.serialize(t)})},Helpers.deserializeVectorTypeArgumentAbi=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(eC.deserialize(e));return r},Helpers.serializeVectorTypeTag=function(e,t){t.serializeLen(e.length),e.forEach(function(e){e.serialize(t)})},Helpers.deserializeVectorTypeTag=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(eR.deserialize(e));return r},Helpers.serializeVectorBytes=function(e,t){t.serializeLen(e.length),e.forEach(function(e){t.serializeBytes(e)})},Helpers.deserializeVectorBytes=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(e.deserializeBytes());return r},Helpers.serializeVectorTuple2AccessPathWriteOp=function(e,t){t.serializeLen(e.length),e.forEach(function(e){Helpers.serializeTuple2AccessPathWriteOp(e,t)})},Helpers.deserializeVectorTuple2AccessPathWriteOp=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(Helpers.deserializeTuple2AccessPathWriteOp(e));return r},Helpers.serializeVectorU8=function(e,t){t.serializeLen(e.length),e.forEach(function(e){t.serializeU8(e)})},Helpers.deserializeVectorU8=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(e.deserializeU8());return r},Helpers}(),e$=function(){function AuthKey(e){this.value=e}var e=AuthKey.prototype;return e.serialize=function(e){e.serializeBytes(this.value)},e.hex=function(){return E.from(this.value).toString("hex")},AuthKey}(),eX=function(){function ReceiptIdentifier(e,t){this.accountAddress=e,this.authKey=t}return ReceiptIdentifier.prototype.encode=function(){var e=new B;this.accountAddress.serialize(e);var t=E.concat([E.from(e.getBytes()),E.from(this.authKey.value)]),r=i.gW.toWords(t),n=[Number("1")].concat(r);return i.gW.encode("stc",n)},ReceiptIdentifier.decode=function(e){var t=i.gW.decode(e).words.slice(1),r=E.from(i.gW.fromWords(t)),n=r.slice(0,C.LENGTH),a=r.slice(C.LENGTH),o=C.deserialize(new I(n)),s=new e$(a);return new ReceiptIdentifier(o,s)},ReceiptIdentifier}(),eQ=function(){function SigningMessage(e){this.message=e}return SigningMessage.prototype.serialize=function(e){e.serializeBytes(this.message)},SigningMessage.deserialize=function(e){var t=e.deserializeBytes();return new SigningMessage(t)},SigningMessage}(),eZ=function(){function SignedMessage(e,t,r,n){this.account=e,this.message=t,this.authenticator=r,this.chain_id=n}return SignedMessage.prototype.serialize=function(e){this.account.serialize(e),this.message.serialize(e),this.authenticator.serialize(e),this.chain_id.serialize(e)},SignedMessage.deserialize=function(e){var t=C.deserialize(e),r=eQ.deserialize(e),n=eP.deserialize(e),i=M.deserialize(e);return new SignedMessage(t,r,n,i)},SignedMessage}(),e0=r(89509).Buffer,e1=r(91094).sha3_256,e2=function(){function DefaultHasher(e){if(e){var t=new Uint8Array(e0.from("STARCOIN::"+e)),r=e1.create();r.update(t),this.salt=new Uint8Array(r.arrayBuffer())}}var e=DefaultHasher.prototype;return e.crypto_hash=function(e){var t=e1.create();return this.salt&&t.update(this.salt),t.update((0,a.lE)(e)),(0,o.addHexPrefix)(t.hex())},e.get_salt=function(){return this.salt},DefaultHasher}();function toHexString(e){return"0x"+E.from(new Uint8Array(e)).toString("hex")}function fromHexString(e,t){e.startsWith("0x")&&(e=e.substring(2)),t?e.length<t&&(e=padLeft(e,t)):e.length%2!=0&&(e="0"+e);var r=E.from(e,"hex");return new Uint8Array(r)}function padLeft(e,t,r){return Array(t-e.length+1).join(r||"0")+e}var privateKeyToPublicKey=function(e){try{return Promise.resolve((0,s.$3)((0,o.stripHexPrefix)(e))).then(a.Dv)}catch(e){return Promise.reject(e)}};function bcsEncode(e){var t=new B;return e.serialize(t),toHexString(t.getBytes())}function decodeSignedUserTransaction(e){var t,r,n,i=(0,a.lE)(e),o=(t=new I(i),ev.deserialize(t));if(o.authenticator instanceof eA)n={Ed25519:{public_key:(0,a.Dv)(o.authenticator.public_key.value),signature:(0,a.Dv)(o.authenticator.signature.value)}};else{var s=o.authenticator;n={MultiEd25519:{public_key:(0,a.Dv)(s.public_key.value()),signature:(0,a.Dv)(s.signature.value())}}}var u=o.raw_txn,c=(r=new B,u.payload.serialize(r),(0,a.Dv)(r.getBytes()));return{transaction_hash:new e2("SignedUserTransaction").crypto_hash(i),raw_txn:{sender:addressFromSCS(u.sender),sequence_number:u.sequence_number,payload:c,max_gas_amount:u.max_gas_amount,gas_unit_price:u.gas_unit_price,gas_token_code:u.gas_token_code,expiration_timestamp_secs:u.expiration_timestamp_secs,chain_id:u.chain_id.id},authenticator:n}}function packageHexToTransactionPayload(e){var t=new I((0,a.lE)((0,o.addHexPrefix)(e)));return eU.load(t)}function addressToSCS(e){var t=fromHexString(e,32);return C.deserialize(new I(t))}function addressFromSCS(e){return toHexString(e.value.map(function(e){return e[0]}))}function typeTagToSCS(e){if("Bool"===e)return new eO;if("U8"===e)return new eF;if("U128"===e)return new eD;if("U64"===e)return new eM;if("Address"===e)return new eH;if("Signer"===e)return new eK;if("Vector"in e)return new eL(typeTagToSCS(e.Vector));if("Struct"in e)return new ej(structTagToSCS(e.Struct));throw Error("invalid type tag: "+e)}function structTagToSCS(e){return new em(addressToSCS(e.address),new Z(e.module),new Z(e.name),e.type_params?e.type_params.map(function(e){return typeTagToSCS(e)}):[])}function structTagFromSCS(e){return{module:e.module.value,name:e.name.value,type_params:e.type_params.map(function(e){return typeTagFromSCS(e)}),address:addressFromSCS(e.address)}}function typeTagFromSCS(e){if(e instanceof eH)return"Address";if(e instanceof eO)return"Bool";if(e instanceof eF)return"U8";if(e instanceof eM)return"U64";if(e instanceof eD)return"U128";if(e instanceof eK)return"Signer";if(e instanceof ej)return{Struct:structTagFromSCS(e.value)};if(e instanceof eL)return{Vector:typeTagFromSCS(e.value)};throw TypeError("invalid bcs type tag: "+e)}function publicKeyToAuthKey(e,t){void 0===t&&(t=P.SINGLE);var r=u.sha3_256.create();r.update(fromHexString(e)),r.update(fromHexString((0,a.Dv)(t)));var n=r.hex();return(0,o.addHexPrefix)(n)}function publicKeyToAddress(e,t){void 0===t&&(t=P.SINGLE);var r=u.sha3_256.create();r.update(fromHexString(e)),r.update(fromHexString((0,a.Dv)(t)));var n=r.hex(),i=n.slice(n.length/2);return(0,o.addHexPrefix)(i)}function encodeReceiptIdentifier(e,t){void 0===t&&(t="");var r=addressToSCS(e),n=new e$(E.from(t,"hex"));return new eX(r,n).encode()}var e5={__proto__:null,privateKeyToPublicKey:privateKeyToPublicKey,bcsDecode:function(e,t){var r=new I((0,a.lE)(t));return e.deserialize(r)},bcsEncode:bcsEncode,decodeSignedUserTransaction:decodeSignedUserTransaction,decodeTransactionPayload:function(e){var t=(0,a.lE)(e),r=new I(t),n=eV.deserialize(r);if(n instanceof eB){var i=n.value;return{Script:{code:toHexString(i.code),ty_args:i.ty_args.map(function(e){return typeTagFromSCS(e)}),args:i.args.map(function(e){return(0,a.Dv)(e)})}}}if(n instanceof ex){var o=n.value;return{ScriptFunction:{func:{address:addressFromSCS(o.module.address),module:o.module.name.value,functionName:o.func.value},ty_args:o.ty_args.map(function(e){return typeTagFromSCS(e)}),args:o.args.map(function(e){return(0,a.Dv)(e)})}}}if(n instanceof eU){var s=n.value;return{Package:{package_address:addressFromSCS(s.package_address),modules:s.modules.map(function(e){return{code:toHexString(e.code)}}),init_script:null===s.init_script?void 0:{func:{address:addressFromSCS(s.init_script.module.address),module:s.init_script.module.name.value,functionName:s.init_script.func.value},args:s.init_script.args.map(function(e){return(0,a.Dv)(e)}),ty_args:s.init_script.ty_args.map(function(e){return typeTagFromSCS(e)})}}}}throw TypeError("cannot decode bcs data "+n)},packageHexToTransactionPayload:packageHexToTransactionPayload,packageHexToTransactionPayloadHex:function(e){return bcsEncode(packageHexToTransactionPayload(e))},addressToSCS:addressToSCS,addressFromSCS:addressFromSCS,typeTagToSCS:typeTagToSCS,structTagToSCS:structTagToSCS,structTagFromSCS:structTagFromSCS,typeTagFromSCS:typeTagFromSCS,publicKeyToAuthKey:publicKeyToAuthKey,publicKeyToAddress:publicKeyToAddress,encodeReceiptIdentifier:encodeReceiptIdentifier,decodeReceiptIdentifier:function(e){var t=eX.decode(e);return{accountAddress:(0,o.stripHexPrefix)(addressFromSCS(t.accountAddress)),authKey:t.authKey.hex()}},publicKeyToReceiptIdentifier:function(e){var t=publicKeyToAddress(e),r=publicKeyToAuthKey(e);return encodeReceiptIdentifier((0,o.stripHexPrefix)(t),(0,o.stripHexPrefix)(r))},stringToBytes:function(e){var t,r,n=[];t=e.length;for(var i=0;i<t;i++)(r=e.charCodeAt(i))>=65536&&r<=1114111?(n.push(r>>18&7|240),n.push(r>>12&63|128),n.push(r>>6&63|128),n.push(63&r|128)):r>=2048&&r<=65535?(n.push(r>>12&15|224),n.push(r>>6&63|128),n.push(63&r|128)):r>=128&&r<=2047?(n.push(r>>6&31|192),n.push(63&r|128)):n.push(255&r);return n},bytesToString:function(e){if("string"==typeof e)return e;for(var t="",r=0;r<e.length;r++){var n=e[r].toString(2),i=n.match(/^1+?(?=0)/);if(i&&8==n.length){for(var a=i[0].length,o=e[r].toString(2).slice(7-a),s=1;s<a;s++)o+=e[s+r].toString(2).slice(2);t+=String.fromCharCode(parseInt(o,2)),r+=a-1}else t+=String.fromCharCode(e[r])}return t}},showAccount=function(e){try{return Promise.resolve(privateKeyToPublicKey(e)).then(function(t){var r=publicKeyToAddress(t),n=publicKeyToAuthKey(t),i=encodeReceiptIdentifier((0,o.stripHexPrefix)(r),(0,o.stripHexPrefix)(n));return{privateKey:e,publicKey:t,address:r,authKey:n,receiptIdentifier:i}})}catch(e){return Promise.reject(e)}};function generatePrivateKey(){var e=s.P6.randomPrivateKey(),t=E.from(e).toString("hex");return(0,o.addHexPrefix)(t)}function getMultiEd25519AccountPrivateKey(e){return(0,a.Dv)(e.privateKey())}function getMultiEd25519AccountPublicKey(e){var t=e.publicKey();return(0,a.Dv)(t.value())}function getMultiEd25519AccountAddress(e){return publicKeyToAddress(getMultiEd25519AccountPublicKey(e),P.MULTI)}function getMultiEd25519AccountReceiptIdentifier(e){var t=getMultiEd25519AccountAddress(e);return encodeReceiptIdentifier((0,o.stripHexPrefix)(t))}var e8=function(){function Parser(e){this.cur_idx=0,this.toks=e}var e=Parser.prototype;return e.next_tok=function(){var e=this.toks[this.cur_idx++];if(void 0===e)throw Error("out of token, this should not happen");return e},e.peek=function(){return this.toks[this.cur_idx]},e.consume_tok=function(e){var t=this.next_tok();if(t!=e)throw Error("expected tok: "+e+", got: "+t)},e.parse_comma_list=function(e,t,r){var n=[];if(this.peek()!==t)for(;n.push(e(this)),this.peek()!==t&&(this.consume_tok("Comma"),this.peek()!==t||!r););return n},e.parseTypeTag=function(){var e=this.next_tok();if("U8Type"===e)return"U8";if("U64Type"===e)return"U64";if("U128Type"===e)return"U128";if("BoolType"===e)return"Bool";if("AddressType"===e)return"Address";if("VectorType"===e){this.consume_tok("Lt");var t=this.parseTypeTag();return this.consume_tok("Gt"),{Vector:t}}if(void 0!==e.Address){var r=e.Address;this.consume_tok("ColonColon");var n=this.next_tok();if(void 0===n.Name)throw Error("expected name, got: "+n);var i=n.Name;this.consume_tok("ColonColon");var a=this.next_tok();if(void 0===a.Name)throw Error("expected name, got: "+n);var o=a.Name,s=[];return"Lt"===this.peek()&&(this.consume_tok("Lt"),s=this.parse_comma_list(function(e){return e.parseTypeTag()},"Gt",!0),this.consume_tok("Gt")),{Struct:{address:r,module:i,name:o,type_params:s}}}throw Error("unexpected token "+e+", expected type tag")},Parser}();function parse(e,t){var r=(function(e){for(var t=[];;){var r=function(e){if(0!==e.length){var t=e[0];if("<"===t)return["Lt",1];if(">"===t)return["Gt",1];if(","===t)return["Comma",1];if(":"===t){if(":"===e[1])return["ColonColon",2];throw Error("unrecognized token")}if("0"===t&&["x","X"].includes(e[1])){if(l()(e[2])){for(var r="0x",n=2;n<e.length;n++)if(l()(e[n]))r=r.concat(e[n]);else break;return[{Address:r},r.length]}throw Error("unrecognized token")}if(f()(t))return function(e){for(var t="",r=0;r<e.length;){var n=e[r++];if(f()(n))t=t.concat(n);else if(m()(n)){for(var i=n;r<e.length;){var a=e[r++];if(p()(a))i=i.concat(a);else break}var o=t.length+i.length;switch(i){case"u8":return[{U8:t},o];case"u64":return[{U64:t},o];case"u128":return[{U128:t},o];default:throw Error("invalid suffix")}}else break}return[{U64:t},t.length]}(e);if("b"===t&&'"'===e[1]){for(var i="",a=2;;){if(a>=e.length)throw Error("unrecognized token");var o=e[a++];if('"'===o)break;if(("string"==typeof o?o.charCodeAt(0):o)<=127)i=i.concat(o);else throw Error("unrecognized token")}return[{Bytes:i},i.length+3]}if("x"===t&&'"'===e[1]){for(var s="",u=2;;){if(u>=e.length)throw Error("unrecognized token");var c=e[u++];if('"'===c)break;if(l()(c))s=s.concat(c);else throw Error("unrecognized token")}return[{Bytes:s},s.length+3]}if(m()(t)||["-","_"].includes(t)){for(var d="",h=0;h<e.length;h++)if(p()(e[h])||["-","_"].includes(e[h]))d=d.concat(e[h]);else break;return[function(e){switch(e){case"u8":return"U8Type";case"u64":return"U64Type";case"u128":return"U128Type";case"bool":return"BoolType";case"address":return"AddressType";case"vector":return"VectorType";case"true":return"True";case"false":return"False";default:return{Name:e}}}(d),d.length]}if(y()(t)){for(var v="",g=0;g<e.length;g++)if(y()(e[g]))v=v.concat(e[g]);else break;return[{WhiteSpace:v},v.length]}throw Error("unrecognized token")}}(e);if(void 0===r)break;var n=r[0],i=r[1];t.push(n),e=e.substring(i)}return t})(e).filter(function(e){return void 0===e.WhiteSpace});r.push("EOF");var n=new e8(r),i=t(n);return n.consume_tok("EOF"),i}function parseTypeTag(e){return parse(e,function(e){return e.parseTypeTag()})}var e6=r(27759).version,e4=new _.Yd(e6);function checkProperties(e,t){e&&"object"==typeof e||e4.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(function(r){t[r]||e4.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)})}var generateSignedMessage=function(e,t,r,n){try{var i=(0,a.lE)((0,o.addHexPrefix)(r)),s=publicKeyToAddress(r),u=addressToSCS(s),c=(0,a.lE)((0,o.addHexPrefix)(n)),l=encodeTransactionAuthenticatorEd25519(c,i),d=new M(t),f=new eZ(u,e,l,d),h=bcsEncode(f),p=(0,a.Dv)(h);return Promise.resolve(p)}catch(e){return Promise.reject(e)}},signMessage=function(e,t){try{var r=new Uint8Array(E.from(e,"utf8")),n=new eQ(r),i=getEd25519SignMsgBytes(n);return Promise.resolve((0,s.$3)((0,o.stripHexPrefix)(t))).then(function(e){var r=(0,a.Dv)(e);return Promise.resolve((0,s.Xx)(i,(0,o.stripHexPrefix)(t))).then(function(e){var t=(0,a.Dv)(e);return Promise.resolve({publicKey:r,signature:t})})})}catch(e){return Promise.reject(e)}};function encodeTransactionAuthenticatorEd25519(e,t){var r=new Y(t),n=new $(e);return new eA(r,n)}function getEd25519SignMsgBytes(e){var t,r,n=new e2("SigningMessage").get_salt(),i=(t=new B,e.serialize(t),t.getBytes());return(r=new Uint8Array(n.length+i.length)).set(n,0),r.set(i,n.length),r}function decodeSignedMessage(e){var t,r=(0,a.lE)(e);return t=new I(r),eZ.deserialize(t)}var e3=new _.Yd(e6),e9={test:{chainId:255,name:"test",_defaultProvider:function stcDefaultProvider(e){var func=function(t,r){return t.JsonRpcProvider?new t.JsonRpcProvider(r.jsonrpc,e):null};return func.renetwork=function(e){return stcDefaultProvider(e)},func}("test")},dev:{chainId:254,name:"dev"},barnard:{chainId:251,name:"barnard"},halley:{chainId:3,name:"halley"},proxima:{chainId:2,name:"proxima"},main:{chainId:1,name:"main"}};function getNetwork(e){if(null==e)return null;if("number"==typeof e){for(var t in e9){var r,n=e9[t];if(n.chainId==e)return{name:n.name,chainId:n.chainId,_defaultProvider:n._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){var i=e9[e];return null==i?null:{name:i.name,chainId:i.chainId,_defaultProvider:i._defaultProvider||null}}var a=e9[e.name];if(!a)return"number"!=typeof e.chainId&&e3.throwArgumentError("invalid network chainId","network",e),e;e.chainId!==a.chainId&&e3.throwArgumentError("network chainId mismatch","network",e);var o=e._defaultProvider||null;return null==o&&a._defaultProvider&&(o=(r=a._defaultProvider)&&"function"==typeof r.renetwork?a._defaultProvider.renetwork(e):a._defaultProvider),{name:e.name,chainId:a.chainId,_defaultProvider:o}}var e7=new _.Yd("abstract-provider/5.0.5"),te=function(){function Provider(){e7.checkAbstract(this instanceof Provider?this.constructor:void 0,Provider),(0,b.zG)(this,"_isProvider",!0)}var e=Provider.prototype;return e.getBalance=function(e,t,r){try{return void 0===t&&(t="0x1::STC::STC"),Promise.resolve(this.getResource(e,"0x1::Account::Balance<"+t+">",r)).then(function(e){if(void 0!==e)return e.token.value})}catch(e){return Promise.reject(e)}},e.getBalances=function(e,t){try{return Promise.resolve(this.getResources(e,t)).then(function(e){if(void 0!==e){var t={};for(var r in e){var n=parseTypeTag(r);if("object"==typeof n&&void 0!==n.Struct){var i=n.Struct;"Account"===i.module&&"Balance"===i.name&&(t[formatStructTag(i.type_params[0].Struct)]=e[r].token.value)}}return t}})}catch(e){return Promise.reject(e)}},e.getSequenceNumber=function(e,t){try{return Promise.resolve(this.getResource(e,"0x1::Account::Account",t)).then(function(e){if(void 0!==e)return e.sequence_number})}catch(e){return Promise.reject(e)}},e.addListener=function(e,t){return this.on(e,t)},e.removeListener=function(e,t){return this.off(e,t)},Provider.isProvider=function(e){return!!(e&&e._isProvider)},Provider}(),tt=new _.Yd(e6);function formatMoveStruct(e){return e.value.reduce(function(e,t){var r,n=t[0],i=t[1];return _extends({},e,((r={})[n]=formatMoveValue(i),r))},{})}function formatMoveValue(e){if("Bool"in e)return e.Bool;if("U8"in e)return e.U8;if("U64"in e)return tr.bigint(e.U64);if("U128"in e)return tr.bigint(e.U128);if("Address"in e)return e.Address;if("Bytes"in e)return(0,a.$P)(e.Bytes);if("Vector"in e)return e.Vector.map(function(e){return formatMoveValue(e)});if("Struct"in e)return e.Struct.value.reduce(function(e,t){var r,n=t[0],i=t[1];return _extends({},e,((r={})[n]=formatMoveValue(i),r))},{});throw Error("invalid annotated move value, "+JSON.stringify(e))}var tr=function(){function Formatter(){tt.checkNew(this instanceof Formatter?this.constructor:void 0,Formatter),this.formats=this.getDefaultFormats()}var e=Formatter.prototype;return e.getDefaultFormats=function(){var e={},t=this.address.bind(this);this.bigNumber.bind(this);var r=this.blockTag.bind(this),n=this.data.bind(this),i=this.hash.bind(this),a=this.hex.bind(this),o=this.number.bind(this),s=this.u64.bind(this);Formatter.bigint.bind(this);var u=this.u8.bind(this),c=this.u256.bind(this);e.rawTransaction={sender:t,sequence_number:s,payload:n,max_gas_amount:s,gas_unit_price:s,gas_token_code:function(e){return e},expiration_timestamp_secs:s,chain_id:u},e.signedUserTransaction={transaction_hash:i,raw_txn:this.rawUserTransaction.bind(this),authenticator:this.transactionAuthenticator.bind(this)},e.blockMetadata={parent_hash:i,timestamp:s,author:t,author_auth_key:a,uncles:s,number:s,chain_id:u,parent_gas_used:s};var l={block_hash:Formatter.allowNull(i),block_number:Formatter.allowNull(s),transaction_hash:Formatter.allowNull(i),transaction_index:Formatter.allowNull(o)};return e.transaction=_extends({block_metadata:Formatter.allowNull(this.blockMetadata.bind(this),null),user_transaction:Formatter.allowNull(this.signedUserTransaction.bind(this),null)},l),e.blockBody={Full:Formatter.allowNull(Formatter.arrayOf(this.signedUserTransaction.bind(this))),Hashes:Formatter.allowNull(Formatter.arrayOf(i))},e.blockHeader={block_hash:i,parent_hash:i,timestamp:s,number:s,author:t,author_auth_key:Formatter.allowNull(a,null),txn_accumulator_root:i,block_accumulator_root:i,state_root:i,gas_used:s,difficulty:c,nonce:s,body_hash:i,chain_id:u},e.blockWithTransactions={header:function(t){return Formatter.check(e.blockHeader,t)},body:function(e){return e}},e.block={header:function(t){return Formatter.check(e.blockHeader,t)},body:function(t){return Formatter.check(e.blockBody,t)},confirmations:o},e.transactionInfo=_extends({state_root_hash:i,event_root_hash:i,gas_used:s,status:this.transactionVmStatus.bind(this),txn_events:Formatter.allowNull(Formatter.arrayOf(this.transactionEvent.bind(this)),null)},l),e.transactionEvent=_extends({data:a,type_tags:this.typeTag.bind(this),event_key:a,event_seq_number:s},l),e.transactionOutput={gas_used:s,status:this.transactionVmStatus.bind(this),events:Formatter.allowNull(Formatter.arrayOf(this.transactionEvent.bind(this))),write_set:Formatter.allowNull(Formatter.arrayOf(this.transactionWriteAction.bind(this)))},e.blockWithTransactions=(0,b.DC)(e.block),e.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),e.eventFilter={from_block:Formatter.allowNull(r),to_block:Formatter.allowNull(r),event_keys:Formatter.arrayOf(a),limit:Formatter.allowNull(o)},e},e.typeTag=function(e){return e},e.moveValue=function(e){return formatMoveValue(e)},e.moveStruct=function(e){return formatMoveStruct(e)},e.transactionAuthenticator=function(e){return e},e.rawUserTransaction=function(e){return Formatter.check(this.formats.rawTransaction,e)},e.signedUserTransaction=function(e){return Formatter.check(this.formats.signedUserTransaction,e)},e.blockMetadata=function(e){return Formatter.check(this.formats.blockMetadata,e)},e.transactionOutput=function(e){return Formatter.check(this.formats.transactionOutput,e)},e.transactionWriteAction=function(e){return e},e.transactionEvent=function(e){return Formatter.check(this.formats.transactionEvent,e)},e.transactionVmStatus=function(e){if("string"==typeof e){if(["Executed","OutOfGas","MiscellaneousError"].includes(e))return e;throw Error("invalid txn vm_status: "+e)}if("object"==typeof e){if(e.MoveAbort)return{MoveAbort:{location:e.MoveAbort.location,abort_code:this.u64(e.MoveAbort.abort_code)}};if(e.ExecutionFailure)return e;if(e.Discard)return{Discard:{status_code:this.u64(e.Discard.status_code)}};throw Error("invalid txn vm_status: "+JSON.stringify(e))}throw TypeError("invalid txn vm_status type "+e)},e.number=function(e){return"0x"===e?0:T.O$.from(e).toNumber()},e.u8=function(e){if("string"==typeof e)return Number.parseInt(e,10);if("number"==typeof e)return e;throw Error("invalid u8: "+e)},e.u64=function(e){return Formatter.bigint(e)},e.u128=function(e){return Formatter.bigint(e)},e.u256=function(e){if("string"==typeof e)return e;if("number"==typeof e)return e.toString();throw Error("invalid bigint: "+e)},Formatter.bigint=function(e){if("string"==typeof e){var t=BigInt(e);return t>Number.MAX_SAFE_INTEGER?t:Number.parseInt(e)}if("number"==typeof e)return e;throw TypeError("invalid bigint: "+e)},e.bigNumber=function(e){return T.O$.from(e)},e.boolean=function(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)},e.hex=function(e,t){return"string"==typeof e&&(t||"0x"===e.slice(0,2)||(e="0x"+e),(0,a.A7)(e))?e.toLowerCase():tt.throwArgumentError("invalid hex","value",e)},e.data=function(e,t){var r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r},e.address=function(e){"string"!=typeof e&&tt.throwArgumentError("invalid address","address",e);var t=this.hex(e,!0);return 16!==(0,a.E1)(t)?tt.throwArgumentError("invalid address","value",e):(0,o.addHexPrefix)(e)},e.blockTag=function(e){if("earliest"===e)return 0;if("number"==typeof e)return e;throw Error("invalid blockTag")},e.hash=function(e,t){var r=this.hex(e,t);return 32!==(0,a.E1)(r)?tt.throwArgumentError("invalid hash","value",e):r},e._block=function(e){var t=Formatter.check(this.formats.block,e),r=t.body.Full?t.body.Full:t.body.Hashes;return{header:t.header,transactions:r,confirmations:t.confirmations}},e.blockWithTxnHashes=function(e){var t=this._block(e),r=t.header,n=t.transactions,i=t.confirmations;return{header:r,transactions:n.map(function(e){return e.transaction_hash}),confirmations:i}},e.blockWithTransactions=function(e){var t=this._block(e);return{header:t.header,transactions:t.transactions,confirmations:t.confirmations}},e.transactionResponse=function(e){return e},e.userTransactionData=function(e){return decodeSignedUserTransaction(e)},e.transactionInfo=function(e){return Formatter.check(this.formats.transactionInfo,e)},e.topics=function(e){var t=this;return Array.isArray(e)?e.map(function(e){return t.topics(e)}):void 0!=e?this.hash(e,!0):null},e.filter=function(e){return Formatter.check(this.formats.eventFilter,e)},Formatter.check=function(e,t){var r={};for(var n in e)try{var i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r},Formatter.allowNull=function(e,t){return function(r){return void 0==r?t:e(r)}},Formatter.allowFalsish=function(e,t){return function(r){return r?e(r):t}},Formatter.arrayOf=function(e){return function(t){if(!Array.isArray(t))throw TypeError("not an array");var r=[];return t.forEach(function(t){r.push(e(t))}),r}},Formatter}();function _catch(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var tn=new _.Yd(e6);function serializeTopics(e){return void 0===e||0===e.length?"*":e.join("|")}function getEventTag(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,a.E1)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:"+serializeTopics(e);else if("object"==typeof e)return"filter:"+serializeTopics(e.event_keys);throw Error("invalid event - "+e)}function getTime(){return new Date().getTime()}var ti={pending:"pending",block:"block",network:"network",poll:"poll",filter:"filter",tx:"tx"},ta=[ti.pending,ti.block,ti.network,ti.poll],to=function(){function Event(e,t,r){(0,b.zG)(this,"tag",e),(0,b.zG)(this,"listener",t),(0,b.zG)(this,"once",r)}return Event.prototype.pollable=function(){return this.tag.indexOf(":")>=0||ta.indexOf(this.tag)>=0},_createClass(Event,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}},{key:"filter",get:function(){var e,t=this.tag.split(":");if("filter"!==t[0])return null;var r=""===(e=t[1])||"*"===e?[]:e.split("|"),n={};return r.length>0&&(n.event_keys=r),n}}]),Event}(),ts={getChainInfo:"getChainInfo",getNodeInfo:"getNodeInfo",sendTransaction:"sendTransaction",getBlock:"getBlock",getTransactionByHash:"getTransactionByHash",getTransactionInfo:"getTransactionInfo",getEventsOfTransaction:"getEventsOfTransaction",getEvents:"getEvents",call:"call",callV2:"callV2",getCode:"getCode",getResource:"getResource",getAccountState:"getAccountState",getGasPrice:"getGasPrice",dryRun:"dryRun",dryRunRaw:"dryRunRaw"},tu=1,tc=function(e){function BaseProvider(t){var r;if(tn.checkNew(this instanceof BaseProvider?this.constructor:void 0,te),(r=e.call(this)||this)._events=[],r._emitted={block:-2},r.formatter=(this instanceof BaseProvider?this.constructor:void 0).getFormatter(),(0,b.zG)(_assertThisInitialized(r),"anyNetwork","any"===t),r.anyNetwork&&(t=r.detectNetwork()),t instanceof Promise)r._networkPromise=t,t.catch(function(e){}),r._ready().catch(function(e){});else{var n=getNetwork(t);n?((0,b.zG)(_assertThisInitialized(r),"_network",n),r.emit("network",n,null)):tn.throwArgumentError("invalid network","network",t)}return r._maxInternalBlockNumber=-1024,r._lastBlockNumber=-2,r._pollingInterval=4e3,r._fastQueryDate=0,r}_inheritsLoose(BaseProvider,e);var t=BaseProvider.prototype;return t._ready=function(){try{var e=this,_temp8=function(){return e._network},t=function(){if(null==e._network){var _temp10=function(){function _temp3(){t||tn.throwError("no network detected",_.Yd.errors.UNKNOWN_ERROR,{}),null==e._network&&(e.anyNetwork?e._network=t:(0,b.zG)(e,"_network",t),e.emit("network",t,null))}var r=function(){if(null==t)return Promise.resolve(e.detectNetwork()).then(function(e){t=e})}();return r&&r.then?r.then(_temp3):_temp3(r)},t=null,r=function(){if(e._networkPromise){var r=_catch(function(){return Promise.resolve(e._networkPromise).then(function(e){t=e})},function(){});if(r&&r.then)return r.then(function(){})}}();return r&&r.then?r.then(_temp10):_temp10(r)}}();return Promise.resolve(t&&t.then?t.then(_temp8):_temp8(t))}catch(e){return Promise.reject(e)}},BaseProvider.getFormatter=function(){return null==n&&(n=new tr),n},t._getInternalBlockNumber=function(e){try{var t=this;return Promise.resolve(t._ready()).then(function(){function _temp14(e){if(r)return e;var n=getTime(),i=(0,b.mE)({blockNumber:t.perform(ts.getChainInfo,{}).then(function(e){return e.head.number},function(e){return e}),networkError:t.getNetwork().then(function(e){return null},function(e){return e})}).then(function(e){var r=e.blockNumber,a=e.networkError;if(a)throw t._internalBlockNumber===i&&(t._internalBlockNumber=null),a;var o=getTime();return(r=T.O$.from(r).toNumber())<t._maxInternalBlockNumber&&(r=t._maxInternalBlockNumber),t._maxInternalBlockNumber=r,t._setFastBlockNumber(r),{blockNumber:r,reqTime:n,respTime:o}});return t._internalBlockNumber=i,Promise.resolve(i).then(function(e){return e.blockNumber})}var r,n=t._internalBlockNumber,i=function(){if(e>0&&t._internalBlockNumber)return Promise.resolve(n).then(function(t){if(getTime()-t.respTime<=e)return r=1,t.blockNumber})}();return i&&i.then?i.then(_temp14):_temp14(i)})}catch(e){return Promise.reject(e)}},t.poll=function(){try{var e=this,t=tu++,r=[];return Promise.resolve(e._getInternalBlockNumber(100+e.pollingInterval/2)).then(function(n){if(e._setFastBlockNumber(n),e.emit("poll",t,n),n===e._lastBlockNumber){e.emit("didPoll",t);return}if(-2===e._emitted.block&&(e._emitted.block=n-1),Math.abs(e._emitted.block-n)>1e3)tn.warn("network block skew detected; skipping block events"),e.emit("error",tn.makeError("network block skew detected",_.Yd.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:e._emitted.block})),e.emit(ti.block,n);else for(var i=e._emitted.block+1;i<=n;i++)e.emit(ti.block,i);return e._emitted.block!==n&&(e._emitted.block=n,Object.keys(e._emitted).forEach(function(t){if(t!==ti.block){var r=e._emitted[t];"pending"!==r&&n-r>12&&delete e._emitted[t]}})),-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1),e._events.forEach(function(t){switch(t.type){case ti.tx:var i=t.hash,a=e.getTransactionInfo(i).then(function(t){return t&&null!=t.block_number&&(e._emitted["t:"+i]=t.block_number,e.emit(i,t)),null}).catch(function(t){e.emit("error",t)});r.push(a);break;case ti.filter:var o=t.filter;o.from_block=e._lastBlockNumber+1,o.to_block=n;var s=e.getTransactionEvents(o).then(function(t){0!==t.length&&t.forEach(function(t){e._emitted["b:"+t.block_hash]=t.block_number,e._emitted["t:"+t.transaction_hash]=t.block_number,e.emit(o,t)})}).catch(function(t){e.emit("error",t)});r.push(s)}}),e._lastBlockNumber=n,Promise.all(r).then(function(){e.emit("didPoll",t)}),null})}catch(e){return Promise.reject(e)}},t.getNetwork=function(){try{var e=this;return Promise.resolve(e._ready()).then(function(t){return Promise.resolve(e.detectNetwork()).then(function(r){var n,i=function(){if(t.chainId!==r.chainId){var _temp18=function(i){if(n)return i;var a=tn.makeError("underlying network changed",_.Yd.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r});throw e.emit("error",a),a},i=function(){if(e.anyNetwork)return e._network=r,e._lastBlockNumber=-2,e._fastBlockNumber=null,e._fastBlockNumberPromise=null,e._fastQueryDate=0,e._emitted.block=-2,e._maxInternalBlockNumber=-1024,e._internalBlockNumber=null,e.emit("network",r,t),Promise.resolve(new Promise(function(e){setTimeout(e,0)})).then(function(){return n=1,e._network})}();return i&&i.then?i.then(_temp18):_temp18(i)}}();return i&&i.then?i.then(function(e){return n?e:t}):n?i:t})})}catch(e){return Promise.reject(e)}},t._getFastBlockNumber=function(){var e=this,t=getTime();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(function(t){return(null==e._fastBlockNumber||t>e._fastBlockNumber)&&(e._fastBlockNumber=t),e._fastBlockNumber})),this._fastBlockNumberPromise},t._setFastBlockNumber=function(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=getTime(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))},t.waitForTransaction=function(e,t,r){try{var n=this;return null==t&&(t=1),Promise.resolve(n.getTransactionInfo(e)).then(function(i){return(i?i.confirmations:0)>=t?Promise.resolve(i):new Promise(function(i,a){var o=null,s=!1,handler=function handler(r){!(r.confirmations<t)&&(o&&clearTimeout(o),s||(s=!0,n.removeListener(e,handler),i(r)))};n.on(e,handler),"number"==typeof r&&r>0&&(o=setTimeout(function(){s||(o=null,s=!0,n.removeListener(e,handler),a(tn.makeError("timeout exceeded",_.Yd.errors.TIMEOUT,{timeout:r})))},r)).unref&&o.unref()})})}catch(e){return Promise.reject(e)}},t.getBlockNumber=function(){try{return Promise.resolve(this._getInternalBlockNumber(0))}catch(e){return Promise.reject(e)}},t.getGasPrice=function(){try{var e=this;return Promise.resolve(e.getNetwork()).then(function(){return Promise.resolve(e.perform(ts.getGasPrice,{})).then(function(t){return e.formatter.u64(t)})})}catch(e){return Promise.reject(e)}},t.getCode=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then(function(){var n=BaseProvider.getModuleId;return Promise.resolve(e).then(function(e){return Promise.resolve((0,b.mE)({moduleId:n.call(BaseProvider,e),blockTag:t})).then(function(e){return Promise.resolve(r.perform(ts.getCode,e)).then(function(e){if(e)return(0,a.Dv)(e)})})})})}catch(e){return Promise.reject(e)}},t.getResource=function(e,t,r){try{var n=this;return Promise.resolve(n.getNetwork()).then(function(){return Promise.resolve((0,b.mE)({address:e,structTag:t,blockTag:r})).then(function(e){return Promise.resolve(n.perform(ts.getResource,e)).then(function(e){if(e)return n.formatter.moveStruct(e)})})})}catch(e){return Promise.reject(e)}},t.getResources=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then(function(){return Promise.resolve((0,b.mE)({address:e,blockTag:t})).then(function(e){return Promise.resolve(r.perform(ts.getAccountState,e)).then(function(e){if(e)return Object.entries(e.resources).reduce(function(e,t){var n,i=t[0],a=t[1];return _extends({},e,((n={})[i]=r.formatter.moveStruct(a),n))},{})})})})}catch(e){return Promise.reject(e)}},t._wrapTransaction=function(e,t){var r=this;if(null!=t&&32!==(0,a.E1)(t))throw Error("invalid response - sendTransaction");return null!=t&&e.transaction_hash!==t&&tn.throwError("Transaction hash mismatch from Provider.sendTransaction.",_.Yd.errors.UNKNOWN_ERROR,{expectedHash:e.transaction_hash,returnedHash:t}),e.wait=function(t){try{return 0!==t&&(r._emitted["t:"+e.transaction_hash]="pending"),Promise.resolve(r.waitForTransaction(e.transaction_hash,t)).then(function(n){return null==n&&0===t?null:(r._emitted["t:"+e.transaction_hash]=n.block_number,e.block_hash=n.block_hash,e.block_number=n.block_number,e.confirmations=t,"Executed"!==n.status&&tn.throwError("transaction failed",_.Yd.errors.CALL_EXCEPTION,{transactionHash:e.transaction_hash,transaction:e,receipt:n}),n)})}catch(e){return Promise.reject(e)}},e},t.sendTransaction=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then(function(){return Promise.resolve(e).then(function(e){var r=t.formatter.userTransactionData(e);return _catch(function(){return Promise.resolve(t.perform(ts.sendTransaction,{signedTransaction:e})).then(function(){return t._wrapTransaction(r)})},function(e){throw e.transaction=r,e.transactionHash=r.transaction_hash,e})})})}catch(e){return Promise.reject(e)}},BaseProvider.getModuleId=function(e){return"string"==typeof e?e:e.address+"::"+e.name},t._getFilter=function(e){try{var t=this;return Promise.resolve(e).then(function(e){var r=t.formatter,n=r.filter;return Promise.resolve((0,b.mE)(e)).then(function(e){return n.call(r,e)})})}catch(e){return Promise.reject(e)}},t.call=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then(function(){return Promise.resolve((0,b.mE)({request:e})).then(function(e){return e.request.function_id=formatFunctionId(e.request.function_id),Promise.resolve(r.perform(ts.call,e)).then(function(e){return e.map(function(e){return r.formatter.moveValue(e)})})})})}catch(e){return Promise.reject(e)}},t.callV2=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then(function(){return Promise.resolve((0,b.mE)({request:e})).then(function(e){return e.request.function_id=formatFunctionId(e.request.function_id),Promise.resolve(r.perform(ts.callV2,e)).then(function(e){return e.map(function(e){return e})})})})}catch(e){return Promise.reject(e)}},t.dryRun=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then(function(){return Promise.resolve((0,b.mE)({transaction:e})).then(function(e){return Promise.resolve(t.perform(ts.dryRun,e)).then(function(e){return t.formatter.transactionOutput(e)})})})}catch(e){return Promise.reject(e)}},t.dryRunRaw=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then(function(){return Promise.resolve(r.perform(ts.dryRunRaw,{rawUserTransactionHex:e,publicKeyHex:t})).then(function(e){return r.formatter.transactionOutput(e)})})}catch(e){return Promise.reject(e)}},t._getBlock=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then(function(){return Promise.resolve(e).then(function(n){function _temp22(){return(0,w.$l)(function(){try{return Promise.resolve(r.perform(ts.getBlock,o)).then(function(e){function _temp24(t){return n?t:r.formatter.blockWithTxnHashes(e)}if(null==e)return null!=o.blockHash&&null==r._emitted["b:"+o.blockHash]||null!=o.blockNumber&&i>r._emitted.block?null:void 0;var n,a=function(){if(t)return Promise.resolve(r._getInternalBlockNumber(100+2*r.pollingInterval)).then(function(t){var i=t-e.header.number+1;return i<=0&&(i=1),e.confirmations=i,n=1,r.formatter.blockWithTransactions(e)})}();return a&&a.then?a.then(_temp24):_temp24(a)})}catch(e){return Promise.reject(e)}},{oncePoll:r})}e=n;var i=-128,o={includeTransactions:!!t},s=function(){if((0,a.A7)(e,32))o.blockHash=e;else{var t=_catch(function(){return Promise.resolve(r._getBlockTag(e)).then(function(e){o.blockNumber=e,i=o.blockNumber})},function(){tn.throwArgumentError("invalid block hash or block number","blockHashOrBlockNumber",e)});if(t&&t.then)return t.then(function(){})}}();return s&&s.then?s.then(_temp22):_temp22(s)})})}catch(e){return Promise.reject(e)}},t.getBlock=function(e){return this._getBlock(e,!0)},t.getTransaction=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then(function(){return Promise.resolve(e).then(function(r){e=r;var n={transactionHash:t.formatter.hash(e,!0)};return(0,w.$l)(function(){try{return Promise.resolve(t.perform(ts.getTransactionByHash,n)).then(function(r){function _temp28(){return t._wrapTransaction(n)}if(null==r)return null==t._emitted["t:"+e]?null:void 0;var n=t.formatter.transactionResponse(r),i=function(){if(void 0===n.block_number)n.confirmations=0;else{var e=function(){if(void 0===n.confirmations)return Promise.resolve(t._getInternalBlockNumber(100+2*t.pollingInterval)).then(function(e){var t=e-n.block_number+1;t<=0&&(t=1),n.confirmations=t})}();if(e&&e.then)return e.then(function(){})}}();return i&&i.then?i.then(_temp28):_temp28(i)})}catch(e){return Promise.reject(e)}},{oncePoll:t})})})}catch(e){return Promise.reject(e)}},t.getTransactionInfo=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then(function(){return Promise.resolve(e).then(function(r){e=r;var n={transactionHash:t.formatter.hash(e,!0)};return(0,w.$l)(function(){try{return Promise.resolve(t.perform(ts.getTransactionInfo,n)).then(function(r){if(null===r)return null===t._emitted["t:"+e]?null:void 0;if(null!==r.block_hash){var n=t.formatter.transactionInfo(r),i=function(){if(null===n.block_number)n.confirmations=0;else{var e=function(){if(!n.confirmations)return Promise.resolve(t._getInternalBlockNumber(100+2*t.pollingInterval)).then(function(e){var t=e-n.block_number+1;t<=0&&(t=1),n.confirmations=t})}();if(e&&e.then)return e.then(function(){})}}();return i&&i.then?i.then(function(){return n}):n}})}catch(e){return Promise.reject(e)}},{oncePoll:t})})})}catch(e){return Promise.reject(e)}},t.getEventsOfTransaction=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then(function(){return Promise.resolve(e).then(function(r){e=r;var n={transactionHash:t.formatter.hash(e,!0)};return Promise.resolve(t.perform(ts.getEventsOfTransaction,n)).then(function(e){return tr.arrayOf(t.formatter.transactionEvent.bind(t.formatter))(e)})})})}catch(e){return Promise.reject(e)}},t.getTransactionEvents=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then(function(){return Promise.resolve((0,b.mE)({filter:e})).then(function(e){return Promise.resolve(t.perform(ts.getEvents,e)).then(function(e){return tr.arrayOf(t.formatter.transactionEvent.bind(t.formatter))(e)})})})}catch(e){return Promise.reject(e)}},t._getBlockTag=function(e){try{var t=this;return Promise.resolve(e).then(function(r){return(e=r)<0?(e%1&&tn.throwArgumentError("invalid BlockTag","blockTag",e),Promise.resolve(t._getInternalBlockNumber(100+2*t.pollingInterval)).then(function(t){return(t+=e)<0&&(t=0),t})):e})}catch(e){return Promise.reject(e)}},t._startEvent=function(e){this.polling=this._events.filter(function(e){return e.pollable()}).length>0},t._stopEvent=function(e){this.polling=this._events.filter(function(e){return e.pollable()}).length>0},t._addEventListener=function(e,t,r){var n=new to(getEventTag(e),t,r);return this._events.push(n),this._startEvent(n),this},t.on=function(e,t){return this._addEventListener(e,t,!1)},t.once=function(e,t){return this._addEventListener(e,t,!0)},t.emit=function(e){var t=arguments,r=this,n=!1,i=[],a=getEventTag(e);return this._events=this._events.filter(function(e){return e.tag!==a||(setTimeout(function(){e.listener.apply(r,[].slice.call(t,1))},0),n=!0,!e.once||(i.push(e),!1))}),i.forEach(function(e){r._stopEvent(e)}),n},t.listenerCount=function(e){if(!e)return this._events.length;var t=getEventTag(e);return this._events.filter(function(e){return e.tag===t}).length},t.listeners=function(e){if(null==e)return this._events.map(function(e){return e.listener});var t=getEventTag(e);return this._events.filter(function(e){return e.tag===t}).map(function(e){return e.listener})},t.off=function(e,t){var r=this;if(null===t)return this.removeAllListeners(e);var n=[],i=!1,a=getEventTag(e);return this._events=this._events.filter(function(e){return e.tag!==a||e.listener!==t||!!i||(i=!0,n.push(e),!1)}),n.forEach(function(e){r._stopEvent(e)}),this},t.removeAllListeners=function(e){var t=this,r=[];if(null===e)r=this._events,this._events=[];else{var n=getEventTag(e);this._events=this._events.filter(function(e){return e.tag!==n||(r.push(e),!1)})}return r.forEach(function(e){t._stopEvent(e)}),this},_createClass(BaseProvider,[{key:"ready",get:function(){var e=this;return(0,w.$l)(function(){return e._ready().then(function(e){return e},function(e){if(e.code!==_.Yd.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e})})}},{key:"network",get:function(){return this._network}},{key:"blockNumber",get:function(){return this._getInternalBlockNumber(100+this.pollingInterval/2),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval(this.poll.bind(this),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(function(){t.poll(),t._bootstrapPoll=setTimeout(function(){t._poller||t.poll(),t._bootstrapPoll=null},t.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(function(){t.poll()},this._pollingInterval))}}]),BaseProvider}(te),tl=new _.Yd(e6),td=new Set(["sender","sender_public_key","sequence_number","script","modules","max_gas_amount","gas_unit_price","gas_token_code","chain_id"]),tf=new Set([_.Yd.errors.INSUFFICIENT_FUNDS,_.Yd.errors.NONCE_EXPIRED,_.Yd.errors.REPLACEMENT_UNDERPRICED]),th=function(){function Signer(){tl.checkAbstract(this instanceof Signer?this.constructor:void 0,Signer),(0,b.zG)(this,"_isSigner",!0)}var e=Signer.prototype;return e.getBalance=function(e,t){try{return this.checkProvider("getBalance"),Promise.resolve(this.provider.getBalance(this.getAddress(),e,t))}catch(e){return Promise.reject(e)}},e.getSequenceNumber=function(e){try{return this.checkProvider("getSequenceNumber"),Promise.resolve(this.provider.getSequenceNumber(this.getAddress(),e))}catch(e){return Promise.reject(e)}},e.estimateGas=function(e){try{var t=this;return t.checkProvider("estimateGas"),Promise.resolve((0,b.mE)(t.checkTransaction(e))).then(function(e){return Promise.resolve(t.provider.dryRun(e)).then(function(e){return"number"==typeof e.gas_used?3*e.gas_used:BigInt(3)*e.gas_used.valueOf()})})}catch(e){return Promise.reject(e)}},e.sendTransaction=function(e){var t=this;return this.checkProvider("sendTransaction"),this.populateTransaction(e).then(function(e){return t.signTransaction(e).then(function(e){return t.provider.sendTransaction(e)})})},e.getChainId=function(){try{return this.checkProvider("getChainId"),Promise.resolve(this.provider.getNetwork()).then(function(e){return e.chainId})}catch(e){return Promise.reject(e)}},e.getGasPrice=function(){try{return this.checkProvider("getGasPrice"),Promise.resolve(this.provider.getGasPrice())}catch(e){return Promise.reject(e)}},e.checkTransaction=function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];td.has(n)||tl.throwArgumentError("invalid transaction key: "+n,"transaction",e)}var i=(0,b.DC)(e);return void 0===i.sender?i.sender=this.getAddress():i.sender=Promise.all([Promise.resolve(i.sender),this.getAddress()]).then(function(t){return t[0]!==t[1]&&tl.throwArgumentError("from address mismatch","transaction",e),t[0]}),i},e.populateTransaction=function(e){try{var t=this;return Promise.resolve((0,b.mE)(t.checkTransaction(e))).then(function(r){return void 0===r.gas_unit_price&&(r.gas_unit_price=t.getGasPrice()),void 0===r.sequence_number&&(r.sequence_number=t.getSequenceNumber("pending")),void 0===r.chain_id?r.chain_id=t.getChainId():r.chain_id=Promise.all([Promise.resolve(r.chain_id),t.getChainId()]).then(function(t){return 0!==t[1]&&t[0]!==t[1]&&tl.throwArgumentError("chainId address mismatch","transaction",e),t[0]}),void 0===r.max_gas_amount&&(r.max_gas_amount=t.estimateGas(r).catch(function(e){if(tf.has(e.code))throw e;return console.log("err: "+e),tl.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",_.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:r})})),(0,b.mE)(r)})}catch(e){return Promise.reject(e)}},e.checkProvider=function(e){this.provider||tl.throwError("missing provider",_.Yd.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})},Signer.isSigner=function(e){return!!(e&&e._isSigner)},Signer}();function _catch$1(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var tp=new _.Yd(e6),tv=new Set(["call","estimateGas"]);function checkError(e,t,r){var n=t.message;t.code===_.Yd.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText),n=(n||"").toLowerCase();var i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds/)&&tp.throwError("insufficient funds for intrinsic transaction cost",_.Yd.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:i}),n.match(/nonce too low/)&&tp.throwError("nonce has already been used",_.Yd.errors.NONCE_EXPIRED,{error:t,method:e,transaction:i}),n.match(/replacement transaction underpriced/)&&tp.throwError("replacement fee too low",_.Yd.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:i}),tv.has(e)&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&tp.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",_.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:i}),t}function getResult(e){if(e.error){var t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}var tm={},tg=function(e){function JsonRpcSigner(t,r,n){var i;if(tp.checkNew(this instanceof JsonRpcSigner?this.constructor:void 0,JsonRpcSigner),i=e.call(this)||this,t!==tm)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return(0,b.zG)(_assertThisInitialized(i),"provider",r),void 0===n&&(n=0),"string"==typeof n?(0,b.zG)(_assertThisInitialized(i),"_address",i.provider.formatter.address(n)):"number"==typeof n?(0,b.zG)(_assertThisInitialized(i),"_index",n):tp.throwArgumentError("invalid address or index","addressOrIndex",n),i}_inheritsLoose(JsonRpcSigner,e);var t=JsonRpcSigner.prototype;return t.connect=function(e){return tp.throwError("cannot alter JSON-RPC Signer connection",_.Yd.errors.UNSUPPORTED_OPERATION,{operation:"connect"})},t.getAddress=function(){try{var e=this;if(e._address)return Promise.resolve(e._address);return Promise.resolve(e.provider.send("stc_accounts",[]).then(function(t){return t.length<=e._index&&tp.throwError("unknown account #"+e._index,_.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(t[e._index])}))}catch(e){return Promise.reject(e)}},t.sendUncheckedTransaction=function(e){var t=this;tp.debug("sendUncheckedTransaction",e),e=(0,b.DC)(e);var r=this.getAddress().then(function(e){return e&&(e=e.toLowerCase()),e});return tp.debug(r),(0,b.mE)({tx:(0,b.mE)(e),sender:r}).then(function(r){var n=r.tx,i=r.sender;null!=n.from?n.from.toLowerCase()!==i&&tp.throwArgumentError("from address mismatch","transaction",e):n.from=i;var a=t.provider.constructor.hexlifyTransaction(n,{from:!0,expiredSecs:!0,addGasBufferMultiplier:!0});return n.addGasBufferMultiplier&&"number"==typeof n.addGasBufferMultiplier&&(a.addGasBufferMultiplier=n.addGasBufferMultiplier.toString()),tp.debug(a),t.provider.send("stc_sendTransaction",[a]).then(function(e){return e},function(e){throw e.responseText&&(e.responseText.indexOf("insufficient funds")>=0&&tp.throwError("insufficient funds",_.Yd.errors.INSUFFICIENT_FUNDS,{transaction:n}),e.responseText.indexOf("nonce too low")>=0&&tp.throwError("nonce has already been used",_.Yd.errors.NONCE_EXPIRED,{transaction:n}),e.responseText.indexOf("replacement transaction underpriced")>=0&&tp.throwError("replacement fee too low",_.Yd.errors.REPLACEMENT_UNDERPRICED,{transaction:n})),e})})},t.signTransaction=function(e){try{var t=this;return Promise.resolve((0,b.mE)(e)).then(function(r){return Promise.resolve(t.getAddress()).then(function(n){return void 0!==r.sender?r.sender!==n&&tp.throwArgumentError("from address mismatch","transaction",e):r.sender=n,t.provider.send("account.sign_txn_request",[r]).then(function(e){return e},function(e){return checkError("signTransaction",e,r)})})})}catch(e){return Promise.reject(e)}},t.signMessage=function(e){try{var t=this.provider;return Promise.resolve(this.getAddress()).then(function(r){if("string"==typeof e)n=new Uint8Array(E.from(e));else{if(!(0,a._t)(e))return tp.throwError("type of message input is unsupported",_.Yd.errors.UNSUPPORTED_OPERATION,{operation:"signMessage"});n=e}var n,i=Array.from(n);return t.send("account.sign",[r.toLowerCase(),{message:i}])})}catch(e){return Promise.reject(e)}},t.unlock=function(e){try{var t=this.provider;return Promise.resolve(this.getAddress()).then(function(r){return t.send("account.unlock",[r.toLowerCase(),e,void 0])})}catch(e){return Promise.reject(e)}},JsonRpcSigner}(th),ty={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0},t_=function(e){function JsonRpcProvider(t,r){tp.checkNew(this instanceof JsonRpcProvider?this.constructor:void 0,JsonRpcProvider);var n,i=r;return null==i&&(i=new Promise(function(e,t){setTimeout(function(){n.detectNetwork().then(function(t){e(t)},function(e){t(e)})},0)})),n=e.call(this,i)||this,t||(t=(0,b.tu)(n.constructor,"defaultUrl")()),"string"==typeof t?(0,b.zG)(_assertThisInitialized(n),"connection",Object.freeze({url:t})):(0,b.zG)(_assertThisInitialized(n),"connection",Object.freeze((0,b.DC)(t))),n._nextId=42,n}_inheritsLoose(JsonRpcProvider,e),JsonRpcProvider.defaultUrl=function(){return"http://localhost:9850"};var t=JsonRpcProvider.prototype;return t.detectNetwork=function(){try{var e=this;return Promise.resolve(new Promise(function(e){setTimeout(e,0)})).then(function(){function _temp3(){if(null!=t)try{return getNetwork(T.O$.from(t).toNumber())}catch(e){return tp.throwError("could not detect network",_.Yd.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}return tp.throwError("could not detect network",_.Yd.errors.NETWORK_ERROR,{event:"noNetwork"})}var t=null,r=_catch$1(function(){return Promise.resolve(e.send("chain.id",[])).then(function(e){t=e.id})},function(){var r=_catch$1(function(){return Promise.resolve(e.perform(ts.getChainInfo,null)).then(function(e){t=e.chain_id})},function(){});return r&&r.then?r.then(function(){}):void 0});return r&&r.then?r.then(_temp3):_temp3(r)})}catch(e){return Promise.reject(e)}},t.getSigner=function(e){return new tg(tm,this,e)},t.getNowSeconds=function(){try{return Promise.resolve(this.perform(ts.getNodeInfo,null)).then(function(e){return e.now_seconds})}catch(e){return Promise.reject(e)}},t.send=function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};return this.emit("debug",{action:"request",request:(0,b.p$)(n),provider:this}),(0,w.rd)(this.connection,JSON.stringify(n),getResult).then(function(e){return r.emit("debug",{action:"response",request:n,response:e,provider:r}),e},function(e){throw r.emit("debug",{action:"response",error:e,request:n,provider:r}),e})},t.prepareRequest=function(e,t){switch(e){case ts.getChainInfo:return["chain.info",[]];case ts.getNodeInfo:return["node.info",[]];case ts.getGasPrice:return["txpool.gas_price",[]];case ts.dryRun:return["contract.dry_run",[t.transaction]];case ts.dryRunRaw:return["contract.dry_run_raw",[t.rawUserTransactionHex,t.publicKeyHex]];case ts.sendTransaction:return["txpool.submit_hex_transaction",[t.signedTransaction]];case ts.getBlock:if(void 0!==t.blockNumber)return["chain.get_block_by_number",[t.blockNumber]];if(void 0!==t.blockHash)return["chain.get_block_by_hash",[t.blockHash]];break;case ts.getTransactionByHash:return["chain.get_transaction",[t.transactionHash]];case ts.getTransactionInfo:return["chain.get_transaction_info",[t.transactionHash]];case ts.getEventsOfTransaction:return["chain.get_events_by_txn_hash",[t.transactionHash]];case ts.getCode:return["contract.get_code",[t.moduleId]];case ts.getResource:return["contract.get_resource",[t.address,t.structTag]];case ts.getAccountState:return["state.get_account_state_set",[t.address]];case ts.call:return["contract.call",[t.request]];case ts.callV2:return["contract.call_v2",[t.request]];case ts.getEvents:return["chain.get_events",[t.filter]]}},t.perform=function(e,t){try{var r=this,n=r.prepareRequest(e,t);return void 0===n&&tp.throwError(e+" not implemented",_.Yd.errors.NOT_IMPLEMENTED,{operation:e}),Promise.resolve(_catch$1(function(){return Promise.resolve(r.send(n[0],n[1]))},function(r){return checkError(e,r,t)}))}catch(e){return Promise.reject(e)}},t._startEvent=function(t){"pending"===t.tag&&tp.throwError("pending event not implemented",_.Yd.errors.NOT_IMPLEMENTED,{operation:"pending event"}),e.prototype._startEvent.call(this,t)},t._stopEvent=function(t){t.tag===ti.pending&&0===this.listenerCount(ti.pending)&&(this._pendingFilter=null),e.prototype._stopEvent.call(this,t)},JsonRpcProvider.hexlifyTransaction=function(e,t){var r=(0,b.DC)(ty);if(t)for(var n in t)t[n]&&(r[n]=!0);checkProperties(e,r);var i={};return["gasLimit","gasPrice","nonce","value","expiredSecs"].forEach(function(t){if(null!=e[t]){var r=(0,a.$P)(e[t]);"gasLimit"===t&&(t="gas"),i[t]=r}}),["from","to","data"].forEach(function(t){null!=e[t]&&(i[t]=(0,a.Dv)(e[t]))}),i},JsonRpcProvider}(tc),getSignedUserTransaction=function(e,t){try{return Promise.resolve(getSignatureHex(t,e)).then(function(r){return Promise.resolve(generateSignedUserTransaction(e,r,t))})}catch(e){return Promise.reject(e)}},generateSignedUserTransaction=function(e,t,r){try{return Promise.resolve((0,s.$3)((0,o.stripHexPrefix)(e))).then(function(e){var n=signTxn(e,t,r);return Promise.resolve(n)})}catch(e){return Promise.reject(e)}},getSignatureHex=function(e,t){try{var r,n,i=new e2("RawUserTransaction").get_salt(),u=(r=new B,e.serialize(r),r.getBytes()),c=((n=new Uint8Array(i.length+u.length)).set(i,0),n.set(u,i.length),n);return Promise.resolve((0,s.Xx)(c,(0,o.stripHexPrefix)(t))).then(function(e){return(0,a.Dv)(e)})}catch(e){return Promise.reject(e)}};function encodeStarcoinTypesScriptFunction(e,t,r){var n=function(e){if("string"!=typeof e)return e;var t=e.split("::",3);if(3!==t.length)throw Error("cannot parse "+e+" into FunctionId");return{address:t[0],module:t[1],functionName:t[2]}}(e);return new eh(new er(addressToSCS(n.address),new Z(n.module)),new Z(n.functionName),t.map(function(e){return typeTagToSCS(e)}),r)}function encodeScriptFunction(e,t,r){var n=encodeStarcoinTypesScriptFunction(e,t,r);return new ex(n)}function encodeStarcoinTypesPackage(e,t,r){var n=t.map(function(e){return new et((0,a.lE)(e))}),i=null;return r&&(i=encodeStarcoinTypesScriptFunction(r.functionId,r.tyArgs,r.args)),new es(addressToSCS(e),n,i)}function signTxn(e,t,r){var n=new Y((0,a.lE)((0,o.addHexPrefix)(e))),i=new $((0,a.lE)((0,o.addHexPrefix)(t))),s=new eA(n,i);return new ev(r,s)}function encodeStructTypeTags(e){return e.map(function(e){return function encodeStructTypeTag(e){var t=e.split("<"),r=t[0].split("::"),n=r[0],i=r[1],a=r[2],o=t[1]?t[1].replace(">","").split(","):[],s=[];return o.length>0&&o.forEach(function(e){s.push(encodeStructTypeTag(e.trim()))}),{Struct:{address:n,module:i,name:a,type_params:s}}}(e)})}function encodeScriptFunctionArgs(e,t){return t.map(function(t,r){return function(e,t){if("Address"===t)return(0,a.lE)(e);var r=new B;if(t&&"U8"===t.Vector){for(var n=e?(0,a.A7)((0,o.addHexPrefix)(e))?fromHexString(e):new Uint8Array(E.from(e)):new Uint8Array,i=n.length,s=[],u=0;u<i;u++)s.push(n[u]);eY.serializeVectorU8(s,r);var c=(0,a.Dv)(r.getBytes());return(0,a.lE)(c)}if(t&&t.Vector&&Array.isArray(e)){r.serializeLen(e.length),e.forEach(function(e){"U8"===t.Vector.Vector?r.serializeBytes(fromHexString(e)):"Address"===t.Vector?addressToSCS(e).serialize(r):t.Vector&&r["serialize"+t.Vector](e)});var l=(0,a.Dv)(r.getBytes());return(0,a.lE)(l)}if(t){r["serialize"+t](e);var d=(0,a.Dv)(r.getBytes());return(0,a.lE)(d)}return e}(t,e[r].type_tag)})}var generateMultiEd25519Signature=function(e,t){try{return Promise.resolve(Promise.all(Object.keys(e.private_keys).map(function(r){var n=(0,a.Dv)(e.private_keys[r].value);return getSignatureHex(t,n).then(function(e){var t=new $((0,a.lE)(e)),n=Number.parseInt(r,10);return[t,n]}).catch(function(e){throw Error("invalid private key: "+e)})}))).then(function(e){var t=ei.build(e);return Promise.resolve(t)})}catch(e){return Promise.reject(e)}},tz={__proto__:null,abi:{__proto__:null,decodeTransactionScriptABI:function(e){var t=new I(e),r=eN.deserialize(t);return{args:r.args.map(function(e){return{name:e.name,type_tag:typeTagFromSCS(e.type_tag)}}),code:r.code,doc:r.doc,name:r.name,ty_args:r.ty_args.map(function(e){return{name:e.name}})}}},account:{__proto__:null,showAccount:showAccount,generateAccount:function(){try{var e=generatePrivateKey(),t=showAccount(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}},generatePrivateKey:generatePrivateKey,getMultiEd25519AccountPrivateKey:getMultiEd25519AccountPrivateKey,getMultiEd25519AccountPublicKey:getMultiEd25519AccountPublicKey,getMultiEd25519AccountAddress:getMultiEd25519AccountAddress,getMultiEd25519AccountReceiptIdentifier:getMultiEd25519AccountReceiptIdentifier,showMultiEd25519Account:function(e){var t=getMultiEd25519AccountPrivateKey(e),r=getMultiEd25519AccountPublicKey(e),n=getMultiEd25519AccountAddress(e),i=getMultiEd25519AccountReceiptIdentifier(e),a=publicKeyToAuthKey(r,P.MULTI);return{privateKey:t,publicKey:r,address:n,authKey:a,receiptIdentifier:i}},decodeMultiEd25519AccountPrivateKey:function(e){for(var t,r=(0,a.lE)(e),n=r.slice(0,1)[0],i=r.slice(1,2)[0],o=r.slice(2,3)[0],s=[],u=[],c=3,l=0;l<n;l+=1){t=c+32;var d=r.slice(c,t);s.push((0,a.Dv)(d)),c=t}for(var f=0;f<o;f+=1){t=c+32;var h=r.slice(c,t);u.push((0,a.Dv)(h)),c=t}return{privateKeys:u,publicKeys:s,threshold:i}}},errors:{__proto__:null,InvalidNumberOfMoveArgs:function(e,t){return Error("Invalid number of arguments to Move function. given: "+e+", expected: "+t)},InvalidNumberOfRPCParams:function(e,t,r){return Error('Invalid number of input parameters to RPC method "'+e+'" given: '+t+", expected: "+r)},InvalidConnection:function(e){return Error("CONNECTION ERROR: Couldn't connect to node "+e+".")},InvalidProvider:function(){return Error("Provider not set or invalid")},InvalidResponse:function(e){return Error(e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e))},ConnectionTimeout:function(e){return Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")}},helper:{__proto__:null,dec2bin:dec2bin,bin2dec:bin2dec,dec2uint8array:dec2uint8array,uint8array2dec:uint8array2dec,setBit:setBit,isSetBit:isSetBit},hex:{__proto__:null,toHexString:toHexString,fromHexString:fromHexString,padLeft:padLeft,padRight:function(e,t,r){return e+Array(t-e.length+1).join(r||"0")}},parser:{__proto__:null,parseTypeTags:function(e){return parse(e,function(e){return e.parse_comma_list(function(e){return e.parseTypeTag()},"EOF",!0)})},parseTypeTag:parseTypeTag},properties:{__proto__:null,checkProperties:checkProperties},signedMessage:{__proto__:null,recoverSignedMessageAddress:function(e){try{var t,r,_temp3=function(e){return t?e:Promise.resolve(r)},n=decodeSignedMessage(e),i=function(){if(n.authenticator instanceof eA){var e=n.authenticator.signature.value,t=getEd25519SignMsgBytes(n.message),i=n.authenticator.public_key.value;return r=publicKeyToAddress((0,a.Dv)(i)),Promise.resolve((0,s.T)(e,t,i)).then(function(e){var t;if(!e)throw Error("Failed verify signature and message");if(t=n.account,publicKeyToAddress((0,a.Dv)(i))!==addressFromSCS(t))throw Error("Failed: address are not match")})}}();return Promise.resolve(i&&i.then?i.then(_temp3):_temp3(i))}catch(e){return Promise.reject(e)}},encodeSignedMessage:function(e,t,r){try{var n=new Uint8Array(E.from(e,"utf8")),i=new eQ(n);return Promise.resolve(signMessage(e,(0,a.Dv)(t))).then(function(e){var t=e.publicKey,n=e.signature;return Promise.resolve(generateSignedMessage(i,r,t,n)).then(Promise.resolve)})}catch(e){return Promise.reject(e)}},generateSignedMessage:generateSignedMessage,signMessage:signMessage,encodeTransactionAuthenticatorEd25519:encodeTransactionAuthenticatorEd25519,getEd25519SignMsgBytes:getEd25519SignMsgBytes,decodeSignedMessage:decodeSignedMessage},multiSign:{__proto__:null,generateMultiEd25519SignatureShard:function(e,t){try{return Promise.resolve(generateMultiEd25519Signature(e,t)).then(function(t){var r=new ea(t,e.threshold);return Promise.resolve(r)})}catch(e){return Promise.reject(e)}},generateMultiEd25519Signature:generateMultiEd25519Signature,generateMultiEd25519KeyShard:function(e,t,r){try{if(0===t.length)throw Error("require at least one private key");var n=(0,z.cloneDeep)(e),i={};return Promise.resolve(Promise.all(t.map(function(e){return privateKeyToPublicKey(e).then(function(t){return n.push(t),i[t]=e,t}).catch(function(e){throw Error("invalid private key: "+e)})}))).then(function(){n.sort(function(e,t){return e>t?1:-1});var e=n.filter(function(e,t,r){return r.indexOf(e)===t}),i={};return Promise.resolve(Promise.all(t.map(function(t){return privateKeyToPublicKey(t).then(function(r){var n=e.indexOf(r);return n>-1&&(i[n]=new J((0,a.lE)(t))),r}).catch(function(e){throw Error("invalid private key: "+e)})}))).then(function(){var t=e.map(function(e){return new Y((0,a.lE)(e))}),n=new eo(t,r,i);return Promise.resolve(n)})})}catch(e){return Promise.reject(e)}}},tx:{__proto__:null,encodeScriptFunctionByResolve:function(e,t,r,n){try{var i=encodeStructTypeTags(t),a=new t_(n);return Promise.resolve(a.send("contract.resolve_function",[e])).then(function(t){var n=t.args;n[0]&&"Signer"===n[0].type_tag&&n.shift();var a=encodeScriptFunctionArgs(n,r);return encodeScriptFunction(e,i,a)})}catch(e){return Promise.reject(e)}},signRawUserTransaction:function(e,t){try{return Promise.resolve(getSignedUserTransaction(e,t)).then(function(e){var t;return t=new B,e.serialize(t),(0,a.Dv)(t.getBytes())})}catch(e){return Promise.reject(e)}},getSignedUserTransaction:getSignedUserTransaction,getSignatureHex:getSignatureHex,encodeTransactionScript:function(e,t,r){var n=new ec(e,t.map(function(e){return typeTagToSCS(e)}),r.map(function(e){return(0,a.lE)(e)}));return new eB(n)},encodeStarcoinTypesScriptFunction:encodeStarcoinTypesScriptFunction,encodeScriptFunction:encodeScriptFunction,encodeStarcoinTypesPackage:encodeStarcoinTypesPackage,encodePackage:function(e,t,r){var n=encodeStarcoinTypesPackage(e,t,r);return new eU(n)},generateRawUserTransaction:function(e,t,r,n,i,a,o){var s=addressToSCS(e),u=BigInt(i),c=BigInt(r),l=BigInt(n),d=BigInt(a),f=new M(o);return new eu(s,u,t,c,l,"0x1::STC::STC",d,f)},signTxn:signTxn,encodeStructTypeTags:encodeStructTypeTags,encodeScriptFunctionArgs:encodeScriptFunctionArgs}},tT=new _.Yd(e6),tb=1;function buildWeb3LegacyFetcher(e,t){return function(e,r){var n={method:e,params:r,id:tb+=1,jsonrpc:"2.0"};return new Promise(function(e,r){t(n,function(t,n){if(t)return r(t);if(n.error){var i=Error(n.error.message);return i.code=n.error.code,i.data=n.error.data,r(i)}e(n.result)})})}}var tw=function(e){function Web3Provider(t,r){var n,i,a,o;return tT.checkNew(this instanceof Web3Provider?this.constructor:void 0,Web3Provider),void 0===t&&tT.throwArgumentError("missing provider","provider",t),"function"==typeof t?(i="unknown:",a=t):((i=t.host||t.path||"")||!t.isStarMask||(i="starmask"),o=t,t.sendAsync?a=buildWeb3LegacyFetcher(t,t.sendAsync.bind(t)):t.send?a=buildWeb3LegacyFetcher(t,t.send.bind(t)):tT.throwArgumentError("unsupported provider","provider",t),i||(i="unknown:")),n=e.call(this,i,r)||this,(0,b.zG)(_assertThisInitialized(n),"jsonRpcFetchFunc",a),(0,b.zG)(_assertThisInitialized(n),"provider",o),n}return _inheritsLoose(Web3Provider,e),Web3Provider.prototype.send=function(e,t){return this.jsonRpcFetchFunc(e,t)},Web3Provider}(t_),tk=new _.Yd(e6),tS=1,tE=function(e){function WebsocketProvider(t,r){"any"===r&&tk.throwError("WebSocketProvider does not support 'any' network yet",_.Yd.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(n=e.call(this,t,r)||this)._pollingInterval=-1,n._wsReady=!1,(0,b.zG)(_assertThisInitialized(n),"_websocket",new(S())(n.connection.url)),(0,b.zG)(_assertThisInitialized(n),"_requests",{}),(0,b.zG)(_assertThisInitialized(n),"_subs",{}),(0,b.zG)(_assertThisInitialized(n),"_subIds",{}),(0,b.zG)(_assertThisInitialized(n),"_detectNetwork",e.prototype.detectNetwork.call(_assertThisInitialized(n))),n._websocket.onopen=function(){n._wsReady=!0,Object.keys(n._requests).forEach(function(e){n._websocket.send(n._requests[e].payload)})},n._websocket.onmessage=function(e){var t=e.data,r=JSON.parse(t);if(null!=r.id){var i,a=String(r.id),o=n._requests[a];delete n._requests[a],void 0!==r.result?(o.callback(null,r.result),n.emit("debug",{action:"response",request:JSON.parse(o.payload),response:r.result,provider:_assertThisInitialized(n)})):(r.error?(i=Error(r.error.message||"unknown error"),(0,b.zG)(i,"code",r.error.code||null),(0,b.zG)(i,"response",t)):i=Error("unknown error"),o.callback(i,void 0),n.emit("debug",{action:"response",error:i,request:JSON.parse(o.payload),provider:_assertThisInitialized(n)}))}else if("starcoin_subscription"===r.method){var s=n._subs[r.params.subscription];s&&s.processFunc(r.params.result)}else console.warn("this should not happen")};var n,i=setInterval(function(){n.emit("poll")},1e3);return i.unref&&i.unref(),n}_inheritsLoose(WebsocketProvider,e);var t=WebsocketProvider.prototype;return t.detectNetwork=function(){return this._detectNetwork},t.poll=function(){return Promise.resolve(null)},t.send=function(e,t){var r=this,n=tS++;return new Promise(function(i,a){var o=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});r.emit("debug",{action:"request",request:JSON.parse(o),provider:r}),r._requests[String(n)]={callback:function(e,t){return e?a(e):i(t)},payload:o},r._wsReady&&r._websocket.send(o)})},WebsocketProvider.defaultUrl=function(){return"ws://localhost:9870"},t._subscribe=function(e,t,r){try{var n=this,i=n._subIds[e];return null==i&&(i=Promise.all(t).then(function(e){return n.send("starcoin_subscribe",e)}),n._subIds[e]=i),Promise.resolve(i).then(function(t){n._subs[t]={tag:e,processFunc:r}})}catch(e){return Promise.reject(e)}},t._startEvent=function(e){var t=this;switch(e.type){case ti.block:this._subscribe(ti.block,[{type_name:"newHeads"}],function(e){var r=t.formatter.u64(e.header.number);t._emitted.block=r,t.emit(ti.block,r)});break;case ti.pending:this._subscribe(ti.pending,[{type_name:"newPendingTransactions"}],function(e){t.emit(ti.pending,e)});break;case ti.filter:this._subscribe(e.tag,[{type_name:"events"},e.filter],function(r){t.emit(e.filter,t.formatter.transactionEvent(r))});break;case ti.tx:var emitTxnInfo=function(e){var r=e.hash;t.getTransactionInfo(r).then(function(e){e&&t.emit(r,e)})};emitTxnInfo(e),this._subscribe(ti.tx,[{type_name:"newHeads"}],function(e){t._events.filter(function(e){return e.type===ti.tx}).forEach(emitTxnInfo)});break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}},t._stopEvent=function(e){var t=this,r=e.tag;if(e.type===ti.tx){if(this._events.filter(function(e){return e.type===ti.tx}).length)return;r=ti.tx}else if(this.listenerCount(e.event))return;var n=this._subIds[r];n&&(delete this._subIds[r],n.then(function(e){t._subs[e]&&(delete t._subs[e],t.send("starcoin_unsubscribe",[e]))}))},t.destroy=function(){try{var e=this,_temp3=function(){e._websocket.close(1e3)},t=function(){if(e._websocket.readyState===S().CONNECTING)return Promise.resolve(new Promise(function(t){e._websocket.onopen=function(){t(!0)},e._websocket.onerror=function(){t(!1)}})).then(function(){})}();return Promise.resolve(t&&t.then?t.then(_temp3):_temp3(t))}catch(e){return Promise.reject(e)}},_createClass(WebsocketProvider,[{key:"pollingInterval",get:function(){return 0},set:function(e){tk.throwError("cannot set polling interval on WebSocketProvider",_.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}},{key:"polling",set:function(e){e&&tk.throwError("cannot set polling on WebSocketProvider",_.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}}]),WebsocketProvider}(t_),tP={__proto__:null,CONSTANTS:ti,Event:to,RPC_ACTION:ts,BaseProvider:tc,formatMoveStruct:formatMoveStruct,formatMoveValue:formatMoveValue,Formatter:tr,JsonRpcSigner:tg,JsonRpcProvider:t_,Web3Provider:tw,WebsocketProvider:tE},tA=function(){function AcceptTokenEvent(e){this.token_code=e}return AcceptTokenEvent.prototype.serialize=function(e){this.token_code.serialize(e)},AcceptTokenEvent.deserialize=function(e){var t=tR.deserialize(e);return new AcceptTokenEvent(t)},AcceptTokenEvent}(),tI=function(){function AccountAddress(e){this.value=e}return AccountAddress.prototype.serialize=function(e){tM.serializeArray16U8Array(this.value,e)},AccountAddress.deserialize=function(e){var t=tM.deserializeArray16U8Array(e);return new AccountAddress(t)},AccountAddress}(),tV=function(){function BlockRewardEvent(e,t,r,n){this.block_number=e,this.block_reward=t,this.gas_fees=r,this.miner=n}return BlockRewardEvent.prototype.serialize=function(e){e.serializeU64(this.block_number),e.serializeU128(this.block_reward),e.serializeU128(this.gas_fees),this.miner.serialize(e)},BlockRewardEvent.deserialize=function(e){var t=e.deserializeU64(),r=e.deserializeU128(),n=e.deserializeU128(),i=tI.deserialize(e);return new BlockRewardEvent(t,r,n,i)},BlockRewardEvent}(),tB=function(){function BurnEvent(e,t){this.amount=e,this.token_code=t}return BurnEvent.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e)},BurnEvent.deserialize=function(e){var t=e.deserializeU128(),r=tR.deserialize(e);return new BurnEvent(t,r)},BurnEvent}(),tU=function(){function DepositEvent(e,t,r){this.amount=e,this.token_code=t,this.metadata=r}return DepositEvent.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e),tM.serializeVectorU8(this.metadata,e)},DepositEvent.deserialize=function(e){var t=e.deserializeU128(),r=tR.deserialize(e),n=tM.deserializeVectorU8(e);return new DepositEvent(t,r,n)},DepositEvent}(),tx=function(){function MintEvent(e,t){this.amount=e,this.token_code=t}return MintEvent.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e)},MintEvent.deserialize=function(e){var t=e.deserializeU128(),r=tR.deserialize(e);return new MintEvent(t,r)},MintEvent}(),tN=function(){function NewBlockEvent(e,t,r,n){this.number=e,this.author=t,this.timestamp=r,this.uncles=n}return NewBlockEvent.prototype.serialize=function(e){e.serializeU64(this.number),this.author.serialize(e),e.serializeU64(this.timestamp),e.serializeU64(this.uncles)},NewBlockEvent.deserialize=function(e){var t=e.deserializeU64(),r=tI.deserialize(e),n=e.deserializeU64(),i=e.deserializeU64();return new NewBlockEvent(t,r,n,i)},NewBlockEvent}(),tC=function(){function ProposalCreatedEvent(e,t){this.proposal_id=e,this.proposer=t}return ProposalCreatedEvent.prototype.serialize=function(e){e.serializeU64(this.proposal_id),this.proposer.serialize(e)},ProposalCreatedEvent.deserialize=function(e){var t=e.deserializeU64(),r=tI.deserialize(e);return new ProposalCreatedEvent(t,r)},ProposalCreatedEvent}(),tR=function(){function TokenCode(e,t,r){this.address=e,this.module=t,this.name=r}return TokenCode.prototype.serialize=function(e){this.address.serialize(e),e.serializeStr(this.module),e.serializeStr(this.name)},TokenCode.deserialize=function(e){var t=tI.deserialize(e),r=e.deserializeStr(),n=e.deserializeStr();return new TokenCode(t,r,n)},TokenCode}(),tO=function(){function VoteChangedEvent(e,t,r,n,i){this.proposal_id=e,this.proposer=t,this.voter=r,this.agree=n,this.vote=i}return VoteChangedEvent.prototype.serialize=function(e){e.serializeU64(this.proposal_id),this.proposer.serialize(e),this.voter.serialize(e),e.serializeBool(this.agree),e.serializeU128(this.vote)},VoteChangedEvent.deserialize=function(e){var t=e.deserializeU64(),r=tI.deserialize(e),n=tI.deserialize(e),i=e.deserializeBool(),a=e.deserializeU128();return new VoteChangedEvent(t,r,n,i,a)},VoteChangedEvent}(),tF=function(){function WithdrawEvent(e,t,r){this.amount=e,this.token_code=t,this.metadata=r}return WithdrawEvent.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e),tM.serializeVectorU8(this.metadata,e)},WithdrawEvent.deserialize=function(e){var t=e.deserializeU128(),r=tR.deserialize(e),n=tM.deserializeVectorU8(e);return new WithdrawEvent(t,r,n)},WithdrawEvent}(),tM=function(){function Helpers(){}return Helpers.serializeArray16U8Array=function(e,t){e.forEach(function(e){t.serializeU8(e[0])})},Helpers.deserializeArray16U8Array=function(e){for(var t=[],r=0;r<16;r++)t.push([e.deserializeU8()]);return t},Helpers.serializeVectorU8=function(e,t){t.serializeLen(e.length),e.forEach(function(e){t.serializeU8(e)})},Helpers.deserializeVectorU8=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(e.deserializeU8());return r},Helpers}();tR.prototype.toJS=function(){return{address:addressFromSCS(this.address),module:this.module,name:this.name}},tU.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}},tA.prototype.toJS=function(){return{token_code:this.token_code.toJS()}},tV.prototype.toJS=function(){return{block_number:this.block_number,block_reward:this.block_reward,gas_fees:this.gas_fees,miner:addressFromSCS(this.miner)}},tB.prototype.toJS=function(){return{amount:this.amount,token_code:this.token_code.toJS()}},tx.prototype.toJS=function(){return{amount:this.amount,token_code:this.token_code.toJS()}},tN.prototype.toJS=function(){return{number:this.number,author:addressFromSCS(this.author),timestamp:this.timestamp,uncles:this.uncles}},tC.prototype.toJS=function(){return{proposal_id:this.proposal_id,proposer:addressFromSCS(this.proposer)}},tO.prototype.toJS=function(){return{agree:this.agree,vote:this.vote,voter:addressFromSCS(this.voter),proposal_id:this.proposal_id,proposer:addressFromSCS(this.proposer)}},tF.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}},tU.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}}}}]);
//# sourceMappingURL=272dda8c.de3cff5972eae5ef.js.map