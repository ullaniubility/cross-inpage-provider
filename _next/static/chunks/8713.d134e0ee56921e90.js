(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8713],{6424:function(n,e,o){"use strict";o.d(e,{p:function(){return DAppList}}),o(67294);var t=o(36612),c=o.n(t),r=o(85893);function DAppList(n){var e=n.dapps;return(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsx)("h3",{children:"Top DApps"}),(0,r.jsx)("ul",{children:e.map(function(n){return(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:n.url,target:"_blank",children:[n.name," ↗"]})},n.name)})})]})}},73778:function(n,e,o){"use strict";o.r(e),o.d(e,{default:function(){return App}});var t=o(15861),c=o(86854),r=o(67294),i=o(59917),a=o(15561),s=o(50780),l=o.n(s),u=o(77191),d=o.n(u),f=o(6424),p=[{name:"Magic Eden",url:"https://magiceden.io/"},{name:"Mean Finance",url:"https://app.meanfi.com/"},{name:"Saber",url:"https://app.saber.so/"},{name:"ORCA",url:"https://www.orca.so/"},{name:"Rarible",url:"https://rarible.com/connect"},{name:"Raydium",url:"https://raydium.io/swap/"}],g=o(85893),h=(0,i.Wf)("devnet"),y=new i.nh("8yAmEoio2d7DszNucNzKf4AqW2JfGRJ1z5Nu9czdrgc1"),useProvider=function(){var n=(0,r.useState)(),e=(0,c.Z)(n,2),o=e[0],t=e[1];return(0,r.useEffect)(function(){var n,e=window.solana||(null==(n=window.phantom)?void 0:n.solana)||new a.iH({});window._solana=e,t(e)},[]),o};function App(){var n,e,o,a,s,u,m,w=useProvider(),_=(0,r.useMemo)(function(){return new i.ew(h)},[]),x=(0,r.useState)(!1),b=(0,c.Z)(x,2)[1],j=(0,r.useState)(null),v=(0,c.Z)(j,2),T=v[0],k=v[1];if((0,r.useEffect)(function(){if(w)return w.connect({onlyIfTrusted:!0}).catch(function(n){}),w.on("connect",function(n){k(n),b(!0),console.log("solana [connect] ".concat(n.toBase58()))}),w.on("disconnect",function(){k(null),b(!1),console.log("solana [disconnect] \uD83D\uDC4B")}),w.on("accountChanged",function(n){k(n),n?console.log("solana [accountChanged] Switched account to ".concat(null==n?void 0:n.toBase58())):(console.log("solana [accountChanged] Switched unknown account"),w.connect().then(function(){return console.log("[accountChanged] Reconnected successfully")}).catch(function(n){console.log("solana [accountChanged] Failed to re-connect: ".concat(n.message))}))}),function(){w.disconnect()}},[w]),!w)return(0,g.jsx)("h2",{children:"Could not find a provider"});var A=(n=(0,t.Z)(function*(){try{yield w.connect()}catch(n){console.warn(n),console.log("[error] connect: ".concat(JSON.stringify(n)))}}),function(){return n.apply(this,arguments)}),C=(e=(0,t.Z)(function*(){try{yield w.disconnect()}catch(n){console.warn(n),console.log("[error] disconnect: ".concat(JSON.stringify(n)))}}),function(){return e.apply(this,arguments)}),createTransferTransaction=function(){if(w.publicKey){var n=new i.YW().add(i.yc.transfer({fromPubkey:w.publicKey,toPubkey:y,lamports:i.j5/100}));return n.feePayer=w.publicKey,n.recentBlockhash="GLXLbuzf788BVk738RKcgNWftzGHwjzXzVPAxFDt8naQ",n}},S=(o=(0,t.Z)(function*(){if(w.publicKey){console.log("Requesting airdrop");var n=yield _.requestAirdrop(w.publicKey,i.j5);console.log("Waiting for airdrop..."),yield _.confirmTransaction(n),console.log("Airdrop confirmed!")}}),function(){return o.apply(this,arguments)}),H=(a=(0,t.Z)(function*(){try{var n=createTransferTransaction();if(!n)return;var e=(yield w.signAndSendTransaction(n)).signature;console.log("Submitted transaction, signature: ",e),console.log("Awaiting confirmation");var o=yield _.confirmTransaction(e);console.log("Transaction confirmed: ",o)}catch(n){console.warn(n),console.log("[error] sendTransaction: ".concat(JSON.stringify(n)))}}),function(){return a.apply(this,arguments)}),N=(s=(0,t.Z)(function*(){try{var n=createTransferTransaction();if(!n)return;var e=yield w.signTransaction(n);console.log("Signed transaction: ",d().encode(e.serialize()))}catch(n){console.warn(n),console.log("[error] signTransaction: ",n)}}),function(){return s.apply(this,arguments)}),Z=(u=(0,t.Z)(function*(){try{var n=yield Promise.all([createTransferTransaction(),createTransferTransaction()]),e=(0,c.Z)(n,2),o=e[0],t=e[1];if(o&&t){var r=yield w.signAllTransactions([o,t]);console.log("signMultipleTransactions txns: ",r)}}catch(n){console.warn(n),console.log("[error] signMultipleTransactions: ",n)}}),function(){return u.apply(this,arguments)}),D=(m=(0,t.Z)(function*(){try{var n=new TextEncoder().encode("Hello, world!"),e=yield w.signMessage(n,"hex");if(!e.signature)return;console.log("Message signed: ",e);var o=l().sign.detached.verify(n,e.signature,e.publicKey.toBytes());console.log("Message verified: ",o)}catch(n){console.warn(n),console.log("[error] signMessage: ",n)}}),function(){return m.apply(this,arguments)});return(0,g.jsxs)("div",{children:[(0,g.jsx)(f.p,{dapps:p}),!w&&(0,g.jsx)("a",{target:"_blank",href:"https://www.onekey.so/download/",children:"Install OneKey Extension →"}),(0,g.jsx)("main",{children:w&&T?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("pre",{children:["Network: ",h]}),(0,g.jsxs)("pre",{children:["Connected as: ",T.toBase58()]})]}),(0,g.jsx)("button",{onClick:S,children:"Request Airdrop"}),(0,g.jsx)("button",{onClick:H,children:"Sign&Send Transaction"}),(0,g.jsx)("button",{onClick:N,children:"Sign Transaction "}),(0,g.jsx)("button",{onClick:Z,children:"Sign All Transactions"}),(0,g.jsx)("button",{onClick:D,children:"Sign Message"}),(0,g.jsx)("button",{onClick:function(){return C()},children:"Disconnect"})]}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("button",{onClick:function(){return A()},children:"Connect Wallet"})})}),(0,g.jsx)("a",{target:"_blank",href:"https://codesandbox.io/s/github/phantom-labs/sandbox?file=/src/App.tsx",children:"Go to official test Dapp →"})]})}},36612:function(n){n.exports={container:"Home_container__d256j",main:"Home_main__VkIEL",footer:"Home_footer__yFiaX",title:"Home_title__hYX6j",description:"Home_description__uXNdx",code:"Home_code__VVrIr",grid:"Home_grid__AVljO",card:"Home_card__E5spL",logo:"Home_logo__IOQAX"}},7420:function(){},95856:function(){},11922:function(){},55024:function(){}}]);
//# sourceMappingURL=8713.d134e0ee56921e90.js.map