(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7713],{6424:function(e,n,t){"use strict";t.d(n,{p:function(){return DAppList}}),t(67294);var c=t(36612),a=t.n(c),i=t(85893);function DAppList(e){var n=e.dapps;return(0,i.jsxs)("div",{className:a().container,children:[(0,i.jsx)("h3",{children:"Top DApps"}),(0,i.jsx)("ul",{children:n.map(function(e){return(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:e.url,target:"_blank",children:[e.name," ↗"]})},e.name)})})]})}},12347:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return STCExample}}),t(67294);var c=t(9008),a=t.n(c),i=t(14378),s=t(91954),l=t.n(s),r=t(6424),o=[{name:"Starswap",url:"https://starswap.xyz/#/swap"},{name:"KikoVerse",url:"https://kikoverse.com/"}],d=t(85893);function STCExample(){return(0,i.Y)(),(0,d.jsxs)("main",{className:"".concat(l().main," container-fluid"),children:[(0,d.jsxs)(a(),{children:[(0,d.jsx)("title",{children:"Starcoin E2E Test Dapp"}),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,d.jsx)("header",{children:(0,d.jsxs)("div",{id:"logo-container",children:[(0,d.jsx)("img",{src:"/starcoin-logo.svg"}),(0,d.jsx)("h1",{id:"logo-text",className:"text-center",children:"Starcoin E2E Test Dapp"})]})}),(0,d.jsxs)("section",{children:[(0,d.jsx)("h3",{className:"card-title",children:"Status"}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12",children:(0,d.jsxs)("p",{className:"info-text alert alert-primary",children:["Network: ",(0,d.jsx)("span",{id:"network"})]})}),(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12",children:(0,d.jsxs)("p",{className:"info-text alert alert-secondary",children:["ChainId: ",(0,d.jsx)("span",{id:"chainId"})]})}),(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12",children:(0,d.jsxs)("p",{className:"info-text alert alert-success",children:["SelectedAccount: ",(0,d.jsx)("span",{id:"accounts"})]})})]})]}),(0,d.jsx)("section",{children:(0,d.jsx)("div",{className:"row d-flex justify-content-center",children:(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:"Basic Actions"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"connectButton",disabled:!0,children:"Connect"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"getAccounts",disabled:!0,children:"Get Selected Account"}),(0,d.jsxs)("p",{className:"info-text alert alert-secondary",children:["SelectedAccount: ",(0,d.jsx)("span",{id:"getAccountsResult"})]})]})})})})}),(0,d.jsx)("section",{children:(0,d.jsx)("div",{className:"row d-flex justify-content-center",children:(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:"Permissions Actions"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"requestPermissions",disabled:!0,children:"Request Permissions"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"getPermissions",disabled:!0,children:"Get Permissions"}),(0,d.jsxs)("p",{className:"info-text alert alert-secondary",children:["Permissions result: ",(0,d.jsx)("span",{id:"permissionsResult"})]})]})})})})}),(0,d.jsx)("section",{children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12 d-flex align-items-stretch",children:(0,d.jsx)("div",{className:"card full-width",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:"Send STC"}),(0,d.jsx)("h5",{className:"card-title",children:"To"}),(0,d.jsx)("div",{className:"form-outline mb-3",children:(0,d.jsx)("input",{id:"toAccountInput",type:"text",className:"form-control form-control-lg",defaultValue:"0x46ecE7c1e39fb6943059565E2621b312"})}),(0,d.jsx)("h5",{className:"card-title",children:"Amount of STC"}),(0,d.jsx)("div",{className:"form-outline mb-3",children:(0,d.jsx)("input",{id:"amountInput",type:"text",className:"form-control form-control-lg",defaultValue:"0.001"})}),(0,d.jsx)("h5",{className:"card-title",children:"Transaction Expired Seconds(default 30 minutes)"}),(0,d.jsx)("div",{className:"form-outline mb-3",children:(0,d.jsx)("input",{id:"expiredSecsInput",type:"text",className:"form-control form-control-lg",defaultValue:"1800"})}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"sendButton",disabled:!0,children:"Send"}),(0,d.jsx)("hr",{}),(0,d.jsx)("h4",{className:"card-title",children:"Contract Function"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"callContractButton",disabled:!0,children:"0x1::TransferScripts::peer_to_peer_v2"}),(0,d.jsxs)("p",{className:"info-text alert alert-secondary",children:["Contract Status: ",(0,d.jsx)("span",{id:"contractStatus2",children:"Not clicked"})]})]})})}),(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12 d-flex align-items-stretch",children:(0,d.jsx)("div",{className:"card full-width",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:"Contract blob hex"}),(0,d.jsx)("div",{className:"form-outline mb-3",children:(0,d.jsx)("textarea",{id:"contractPayloadhex",className:"form-control",rows:5,placeholder:"search `payloadInHex` in index.js, generate your payloadInHex and paste it here"})}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"deployButton",disabled:!0,children:"Deploy Contract using blob hex"}),(0,d.jsx)("hr",{}),(0,d.jsx)("h4",{className:"card-title",children:"Contract Function"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"tokenAddressButton",disabled:!0,children:"address::ABC::token_address"}),(0,d.jsxs)("p",{className:"info-text alert alert-secondary",children:["Contract Status: ",(0,d.jsx)("span",{id:"contractStatus",children:"Not clicked"})]})]})})}),(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12 d-flex align-items-stretch",children:(0,d.jsx)("div",{className:"card full-width",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:"Call Contract function"}),(0,d.jsx)("h5",{className:"card-title",children:"Module ID/Function ID"}),(0,d.jsx)("div",{className:"form-outline mb-3",children:(0,d.jsx)("input",{id:"moduleIdInput",type:"text",className:"form-control form-control-lg",defaultValue:"0x1::NFTGalleryScripts"})}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"resolveModuleButton",children:"Resolve Functions"}),(0,d.jsx)("h4",{className:"card-title",children:"Module Functions:"}),(0,d.jsxs)("p",{id:"resolveResultView",className:"info-text alert alert-warning",children:["Result: ",(0,d.jsx)("span",{className:"tips"})]}),(0,d.jsx)("div",{id:"moduleFunctionsDiv",className:"list-group"})]})})})]})}),(0,d.jsx)("section",{children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12 d-flex align-items-stretch",children:(0,d.jsx)("div",{className:"card full-width",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{children:"Personal Sign"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"personalSign",disabled:!0,children:"Sign"}),(0,d.jsxs)("p",{className:"info-text alert alert-warning",children:["Result: ",(0,d.jsx)("span",{id:"personalSignResult"})]}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"personalSignVerify",disabled:!0,children:"Verify"}),(0,d.jsxs)("p",{className:"info-text alert alert-warning",children:["@starcoin/starcoin recovery result:",(0,d.jsx)("span",{id:"personalSignRecoverResult"})]})]})})}),(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12 d-flex align-items-stretch",children:(0,d.jsx)("div",{className:"card full-width",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:"Encrypt / Decrypt"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"getEncryptionKeyButton",disabled:!0,children:"Get Encryption Key"}),(0,d.jsx)("hr",{}),(0,d.jsxs)("div",{id:"encrypt-message-form",children:[(0,d.jsx)("input",{className:"form-control",type:"text",placeholder:"Message to encrypt",id:"encryptMessageInput"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"encryptButton",disabled:!0,children:"Encrypt"})]}),(0,d.jsx)("hr",{}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"decryptButton",disabled:!0,children:"Decrypt"}),(0,d.jsxs)("p",{className:"info-text alert alert-secondary",children:["Encryption key: ",(0,d.jsx)("span",{id:"encryptionKeyDisplay"})]}),(0,d.jsxs)("p",{className:"info-text text-truncate alert alert-secondary",children:["Ciphertext: ",(0,d.jsx)("span",{id:"ciphertextDisplay"})]}),(0,d.jsxs)("p",{className:"info-text alert alert-secondary",children:["Cleartext: ",(0,d.jsx)("span",{id:"cleartextDisplay"})]})]})})}),(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12 d-flex align-items-stretch",children:(0,d.jsx)("div",{className:"card full-width",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{children:"Cross Chain"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"crossChainLockWithSTC",children:"Lock With STC"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"crossChainGetLockTreasury",children:"Get Lock Treasury"}),(0,d.jsxs)("p",{className:"info-text alert alert-warning",children:["Result: ",(0,d.jsx)("span",{id:"crossChainResult"})]})]})})})]})}),(0,d.jsx)("section",{children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12 d-flex align-items-stretch",children:(0,d.jsx)("div",{className:"card full-width",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{children:"Airdrop"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"claimAirdrop",children:"Claim"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"checkClaimedAirdrop",children:"Check Claimed"}),(0,d.jsxs)("p",{className:"info-text alert alert-warning",children:["Result: ",(0,d.jsx)("span",{id:"claimAirdropResult"})]})]})})}),(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12 d-flex align-items-stretch",children:(0,d.jsx)("div",{className:"card full-width",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{children:"NFT"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"mintWithImage",children:"mint with image"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"mintWithImageData",children:"mint with image data"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"isAcceptNFT",children:"check is accept NFT"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"acceptNFT",children:"accept NFT"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"transferNFT",children:"transfer NFT"}),(0,d.jsxs)("p",{className:"info-text alert alert-warning",children:["Result: ",(0,d.jsx)("span",{id:"nftResult"})]})]})})}),(0,d.jsx)("div",{className:"col-xl-4 col-lg-6 col-md-12 col-sm-12 col-12 d-flex align-items-stretch",children:(0,d.jsx)("div",{className:"card full-width",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{children:"AutoAcceptToken"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"isAutoAcceptToken",children:"Check Status"}),(0,d.jsx)("h5",{className:"card-title",children:"AddGasBufferMultiplier(default 1.5)"}),(0,d.jsx)("div",{className:"form-outline mb-3",children:(0,d.jsx)("input",{id:"addGasBufferMultiplier",type:"text",className:"form-control form-control-lg",defaultValue:"1.5"})}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"autoAcceptTokenOn",children:"Turn On"}),(0,d.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",id:"autoAcceptTokenOff",children:"Turn Offf"}),(0,d.jsxs)("p",{className:"info-text alert alert-warning",children:["Result: ",(0,d.jsx)("span",{id:"autoAcceptTokenResult"})]})]})})})]})}),(0,d.jsx)(r.p,{dapps:o})]})}},14378:function(e,n,t){"use strict";t.d(n,{Y:function(){return useExecutor}});var c=t(15861),a=t(16441),i=t(70794),s=t(58339),l=t(2849),r=t(50144),o=t(53731),d=t(67294),m=JSON.parse('{"Py":[{"airDropId":1629220858501,"ownerAddress":"0x3f19d5422824f47e6c021978cee98f35","root":"0xaacff971f163f956a24068dc5f50e03313e374a1725a8806ff275441f9aa6109","address":"0x3f19d5422824f47e6c021978cee98f35","idx":0,"amount":1000000000,"proof":["0xac47a36f0bc7f19afd2baba9c8182e7e8d6dbe2a3eff03f9519fd4b50e6f1960"]},{"airDropId":1629220858501,"ownerAddress":"0x3f19d5422824f47e6c021978cee98f35","root":"0xaacff971f163f956a24068dc5f50e03313e374a1725a8806ff275441f9aa6109","address":"0xd7f20befd34b9f1ab8aeae98b82a5a51","idx":1,"amount":1000000000,"proof":["0xa9851fbee8dc895269b4a503d141460d6e6b07919d8cf37d0225d06caa8bc5fd"]}],"BG":{"1":"0xb987F1aB0D7879b2aB421b98f96eFb44::MerkleDistributorScript::claim_script","2":"","251":"0xb987F1aB0D7879b2aB421b98f96eFb44::MerkleDistributorScript::claim_script","253":"0xb987F1aB0D7879b2aB421b98f96eFb44::MerkleDistributorScript::claim_script","254":""},"Yx":{"1":"https://main-seed.starcoin.org","2":"https://proxima-seed.starcoin.org","251":"https://barnard-seed.starcoin.org","253":"https://halley-seed.starcoin.org","254":"http://localhost:9850"},"si":{"name":"my_test_nft","imageUrl":"ipfs:://QmSPcvcXgdtHHiVTAAarzTeubk5X3iWymPAoKBfiRFjPMY","imageData":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6Y2M9Imh0dHA6Ly93ZWIucmVzb3VyY2Uub3JnL2NjLyIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIiB2ZXJzaW9uPSIxLjEiIGJhc2VQcm9maWxlPSJmdWxsIiB3aWR0aD0iMTUwcHgiIGhlaWdodD0iMTUwcHgiIHZpZXdCb3g9IjAgMCAxNTAgMTUwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiBpZD0ic3ZnX2RvY3VtZW50IiBzdHlsZT0iem9vbTogMTsiPjwhLS0gQ3JlYXRlZCB3aXRoIG1hY1NWRyAtIGh0dHBzOi8vbWFjc3ZnLm9yZy8gLSBodHRwczovL2dpdGh1Yi5jb20vZHN3YXJkMi9tYWNzdmcvIC0tPjx0aXRsZSBpZD0ic3ZnX2RvY3VtZW50X3RpdGxlIj5VbnRpdGxlZC5zdmc8L3RpdGxlPjxkZWZzIGlkPSJzdmdfZG9jdW1lbnRfZGVmcyI+PC9kZWZzPjxnIGlkPSJtYWluX2dyb3VwIj48cmVjdCBpZD0iYmFja2dyb3VuZF9yZWN0IiBmaWxsPSIjMTU4OGYxIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE1MHB4IiBoZWlnaHQ9IjE1MHB4Ij48L3JlY3Q+PC9nPjwvc3ZnPg==","description":"my_test_nft description"}}');e=t.hmd(e);var u=t(48764).Buffer;function useExecutor(){(0,d.useEffect)(function(){var n,t,d="localhost"===new URL(window.location.href).hostname?"http://localhost:3000":void 0,b=s.Z.isStarMaskInstalled,h=document.getElementById("network"),g=document.getElementById("chainId"),p=document.getElementById("accounts"),x=document.getElementById("connectButton"),y=document.getElementById("getAccounts"),f=document.getElementById("getAccountsResult"),v=document.getElementById("requestPermissions"),T=document.getElementById("getPermissions"),w=document.getElementById("permissionsResult"),N=document.getElementById("sendButton"),j=document.getElementById("callContractButton"),I=document.getElementById("contractStatus2"),S=document.getElementById("contractPayloadhex"),k=document.getElementById("deployButton"),B=document.getElementById("tokenAddressButton"),C=document.getElementById("contractStatus"),H=document.getElementById("personalSign"),L=document.getElementById("personalSignResult"),M=document.getElementById("personalSignVerify"),E=document.getElementById("personalSignRecoverResult"),A=document.getElementById("getEncryptionKeyButton"),F=document.getElementById("encryptMessageInput"),Z=document.getElementById("encryptButton"),D=document.getElementById("decryptButton"),z=document.getElementById("encryptionKeyDisplay"),P=document.getElementById("ciphertextDisplay"),R=document.getElementById("cleartextDisplay"),_=document.getElementById("crossChainLockWithSTC"),G=document.getElementById("crossChainGetLockTreasury"),W=document.getElementById("crossChainResult"),V=document.getElementById("claimAirdrop"),U=document.getElementById("checkClaimedAirdrop"),O=document.getElementById("claimAirdropResult"),Y=document.getElementById("mintWithImage"),X=document.getElementById("mintWithImageData"),J=document.getElementById("nftResult"),q=document.getElementById("isAcceptNFT"),$=document.getElementById("acceptNFT"),Q=document.getElementById("transferNFT"),K=document.getElementById("isAutoAcceptToken"),ee=document.getElementById("autoAcceptTokenOn"),en=document.getElementById("autoAcceptTokenOff"),et=document.getElementById("autoAcceptTokenResult"),ec=m.Py,ea=m.BG,ei=m.Yx,es=m.si;function getPermissionsDisplayString(e){return 0===e.length?"No permissions found.":e.map(function(e){return e.parentCapability}).reduce(function(e,n){return"".concat(e).concat(n,", ")},"").replace(/, $/,"")}(t=(0,c.Z)(function*(){try{if(window.starcoin){n=new l.a.Web3Provider(window.starcoin,"any");var t,m,el,er=yield n.getBlockNumber();console.log({blocknumber:er})}}catch(e){console.error(e)}try{m=new s.Z({forwarderOrigin:d})}catch(e){console.error(e)}var eo=!1,ed=[y,v,T,N,j,k,B,H,M,A,F,Z,D,V,U,_,G,Y,X,q,$,Q,K,ee,en],isStarMaskConnected=function(){return el&&el.length>0},onClickInstall=function(){x.innerText="Onboarding in progress",x.disabled=!0,m.startOnboarding()},em=(t=(0,c.Z)(function*(){try{var e=yield window.starcoin.request({method:"stc_requestAccounts"});handleNewAccounts(e)}catch(e){console.error(e)}}),function(){return t.apply(this,arguments)}),clearTextDisplays=function(){},updateButtons=function(){if(b()&&isStarMaskConnected())y.disabled=!1,v.disabled=!1,T.disabled=!1,N.disabled=!1,j.disabled=!1,k.disabled=!1,H.disabled=!1,A.disabled=!1,V.disabled=!1,U.disabled=!1,Y.disabled=!1,_.disabled=!1,G.disabled=!1,X.disabled=!1,q.disabled=!1,$.disabled=!1,Q.disabled=!1,K.disabled=!1,ee.disabled=!1,en.disabled=!1;else{for(var e of ed)e.disabled=!0;clearTextDisplays()}b()?isStarMaskConnected()?(x.innerText="Connected",x.disabled=!0,m&&m.stopOnboarding()):(x.innerText="Connect",x.onclick=em,x.disabled=!1):(x.innerText="Click here to install StarMask!",x.onclick=onClickInstall,x.disabled=!1)},initializeAccountButtons=function(){eo||(eo=!0,y.onclick=(0,c.Z)(function*(){try{var e=yield window.starcoin.request({method:"stc_accounts"});f.innerHTML=e[0]||"Not able to get accounts"}catch(e){console.error(e),f.innerHTML="Error: ".concat(e.message)}}),v.onclick=(0,c.Z)(function*(){try{w.innerHTML="";var e=yield window.starcoin.request({method:"wallet_requestPermissions",params:[{stc_accounts:{}}]});w.innerHTML=getPermissionsDisplayString(e)}catch(e){console.error(e),w.innerHTML="Error: ".concat(e.message)}}),T.onclick=(0,c.Z)(function*(){try{w.innerHTML="";var e=yield window.starcoin.request({method:"wallet_getPermissions"});w.innerHTML=getPermissionsDisplayString(e)}catch(e){console.error(e),w.innerHTML="Error: ".concat(e.message)}}),N.onclick=(0,c.Z)(function*(){console.log("sendButton.onclick");var e=document.getElementById("toAccountInput").value;if(!e)return window.alert("Invalid To: can not be empty!"),!1;if(!(parseFloat(document.getElementById("amountInput").value,10)>0))return window.alert("Invalid sendAmount: should be a number!"),!1;var t=new i.Z("1000000000"),c=new i.Z(String(document.getElementById("amountInput").value),10).times(t),a="0x".concat(c.toString(16));console.log({sendAmountHex:a,sendAmountNanoSTC:c.toString(10)});var s={to:e,value:a,gasLimit:4e6,gasPrice:1},l=parseInt(document.getElementById("expiredSecsInput").value,10);console.log({expiredSecs:l}),l>0&&(s.expiredSecs=l),console.log({txParams:s}),console.log((yield n.getSigner().sendUncheckedTransaction(s)))}),j.onclick=(0,c.Z)(function*(){I.innerHTML="Calling",j.disabled=!0;try{var e,t,s=l.P6.tx.encodeStructTypeTags(["0x1::STC::STC"]),r=document.getElementById("toAccountInput").value;if(!r)return window.alert("Invalid To: can not be empty!"),!1;if(console.log({toAccount:r}),!(parseFloat(document.getElementById("amountInput").value,10)>0))return window.alert("Invalid sendAmount: should be a number!"),!1;var o=new i.Z("1000000000"),d=new i.Z(String(document.getElementById("amountInput").value),10).times(o),m="0x".concat(d.toString(16)),u=((e=new l.$5.BcsSerializer).serializeU128(BigInt(d.toString(10))),(0,a.Dv)(e.getBytes()));console.log({sendAmountHex:m,sendAmountNanoSTC:d.toString(10),amountSCSHex:u});var b=[(0,a.lE)(r),(0,a.lE)(u)],h=l.P6.tx.encodeScriptFunction("0x1::TransferScripts::peer_to_peer_v2",s,b);console.log(h);var g=(t=new l.$5.BcsSerializer,h.serialize(t),(0,a.Dv)(t.getBytes()));console.log({payloadInHex:g});var p={data:g},x=parseInt(document.getElementById("expiredSecsInput").value,10);console.log({expiredSecs:x}),x>0&&(p.expiredSecs=x),console.log({txParams:p});var y=yield n.getSigner().sendUncheckedTransaction(p);console.log({transactionHash:y}),I.innerHTML="Transaction is waiting confirmed ";var f=setInterval((0,c.Z)(function*(){var e=yield n.getTransactionInfo(y);console.log({txnInfo:e}),console.log(e.confirmations),"Executed"===e.status&&(I.innerHTML="Transaction ".concat(e.confirmations," confirmed "),e.confirmations>=6&&(clearInterval(f),I.innerHTML="Call Completed",j.disabled=!1))}),3e3)}catch(e){throw I.innerHTML="Call Failed",j.disabled=!1,e}}),k.onclick=(0,c.Z)(function*(){var e;C.innerHTML="Deploying";try{var t=S.value.trim();t.length||alert("Contract blob hex is empty");var c=l.j6.packageHexToTransactionPayloadHex(t);e=yield n.getSigner().sendUncheckedTransaction({data:c}),console.log({transactionHash:e})}catch(e){throw C.innerHTML="Deployment Failed",e}console.log("Contract deployed! address: ".concat(el[0]," transactionHash: ").concat(e)),C.innerHTML="Deployed",B.disabled=!1}),B.onclick=(0,c.Z)(function*(){C.innerHTML="contract method request started";try{var e=yield n.call({function_id:"".concat(el[0],"::ABC::token_address"),type_args:[],args:[]});C.innerHTML=e[0]}catch(e){throw console.log(e),e}}),H.onclick=(0,c.Z)(function*(){try{L.innerHTML="",M.disabled=!1,E.innerHTML="";var e=el[0],n="0x".concat(u.from("Example `personal_sign` message 中文","utf8").toString("hex"));console.log({msg:n});var t=h.innerHTML,c=yield window.starcoin.request({method:"personal_sign",params:[n,e,{networkId:t}]});L.innerHTML=c}catch(e){console.error(e),H.innerHTML="Error: ".concat(e.message)}}),M.onclick=(0,c.Z)(function*(){try{var e=el[0],n=L.innerHTML,t=yield l.P6.signedMessage.recoverSignedMessageAddress(n);console.log({recoveredAddr:t}),t===e?(console.log("@starcoin/starcoin Successfully verified signer as ".concat(t)),E.innerHTML=t):console.log("@starcoin/starcoin Failed to verify signer")}catch(e){console.error(e),E.innerHTML="Error: ".concat(e.message)}}),A.onclick=(0,c.Z)(function*(){try{var e=yield window.starcoin.request({method:"stc_getEncryptionPublicKey",params:[el[0]]});z.innerText=e,F.disabled=!1}catch(e){z.innerText="Error: ".concat(e.message),F.disabled=!0,Z.disabled=!0,D.disabled=!0}}),F.onkeyup=function(){!A.disabled&&F.value.length>0?Z.disabled&&(Z.disabled=!1):Z.disabled||(Z.disabled=!0)},Z.onclick=function(){try{var e=(0,r.encrypt)(z.innerText,{data:F.value},"x25519-xsalsa20-poly1305");P.innerText=(0,a.Dv)(u.from(JSON.stringify(e))),D.disabled=!1}catch(e){P.innerText="Error: ".concat(e.message),D.disabled=!0}},D.onclick=(0,c.Z)(function*(){try{R.innerText=yield window.starcoin.request({method:"stc_decrypt",params:[P.innerText,window.starcoin.selectedAddress]})}catch(e){R.innerText="Error: ".concat(e.message)}}),_.onclick=(0,c.Z)(function*(){W.innerHTML="Calling LockWithSTC",_.disabled=!0;try{var e,t,c,i,s,r,o,d="0x18351d311d32201149a4df2a9fc2db8a::XETH::XETH",m=((e=new l.$5.BcsSerializer).serializeStr(d),(0,a.Dv)(e.getBytes()));console.log({fromAssetHash:d,fromAssetHashHex:m});var u=((t=new l.$5.BcsSerializer).serializeU64(2),(0,a.Dv)(t.getBytes())),b=((c=new l.$5.BcsSerializer).serializeBytes((0,a.lE)("0x208d1ae5bb7fd323ce6386c443473ed660825d46")),(0,a.Dv)(c.getBytes())),h=((i=new l.$5.BcsSerializer).serializeU128(115555e6),(0,a.Dv)(i.getBytes())),g=((s=new l.$5.BcsSerializer).serializeU128(5e6),(0,a.Dv)(s.getBytes())),p=((r=new l.$5.BcsSerializer).serializeU128(1),(0,a.Dv)(r.getBytes())),x=[(0,a.lE)(m),(0,a.lE)(u),(0,a.lE)(b),(0,a.lE)(h),(0,a.lE)(g),(0,a.lE)(p)];console.log({fromAssetHashHex:m,args:x});var y=l.P6.tx.encodeScriptFunction("0x18351d311d32201149a4df2a9fc2db8a::CrossChainScript::lock_with_stc_fee",[],x),f=(o=new l.$5.BcsSerializer,y.serialize(o),(0,a.Dv)(o.getBytes()));console.log({payloadInHex:f});var v=yield n.getSigner().sendUncheckedTransaction({data:f});console.log({transactionHash:v});var T=yield n.getTransactionInfo(v);console.log({transactionReceipt:T}),W.innerHTML="Call LockWithSTC Completed",_.disabled=!1}catch(e){throw W.innerHTML="Call LockWithSTC Failed",_.disabled=!1,e}}),G.onclick=(0,c.Z)(function*(){W.innerHTML="Get Lock Treasury",G.disabled=!0;try{var e=yield new Promise(function(e,t){return n.send("contract.get_resource",["0x18351d311d32201149a4df2a9fc2db8a","0x18351d311d32201149a4df2a9fc2db8a::LockProxy::LockTreasury<".concat("0x18351d311d32201149a4df2a9fc2db8a::XETH::XETH",">")]).then(function(n){n?e(n.value[0][1].Struct.value[0][1].U128):t(Error("fetch failed"))})});W.innerHTML=e,G.disabled=!1}catch(e){throw W.innerHTML=JSON.stringify(e),G.disabled=!1,e}}),V.onclick=(0,c.Z)(function*(){O.innerHTML="Calling",V.disabled=!0;try{var t=ec.filter(function(e){return e.address.toLowerCase()===p.innerHTML.toLowerCase()});if(t[0]){var c,i=t[0],s=ea[window.starcoin.networkVersion];if(!e)return window.alert("airdrop contract is not deployed on this network!"),O.innerHTML="Call Failed",V.disabled=!1,!1;var r=[i.ownerAddress,i.airDropId,i.root,i.idx,i.amount,i.proof],o=ei[window.starcoin.networkVersion],d=yield l.P6.tx.encodeScriptFunctionByResolve(s,["0x00000000000000000000000000000001::STC::STC"],r,o),m=(c=new l.$5.BcsSerializer,d.serialize(c),(0,a.Dv)(c.getBytes())),u=yield n.getSigner().sendUncheckedTransaction({data:m});console.log({transactionHash:u})}}catch(e){throw O.innerHTML="Call Failed",V.disabled=!1,e}O.innerHTML="Call Completed",V.disabled=!1}),U.onclick=(0,c.Z)(function*(){O.innerHTML="Calling",U.disabled=!0;try{var e=ec.filter(function(e){return e.address.toLowerCase()===p.innerHTML.toLowerCase()});if(e[0]){var t=e[0],c=["0x00000000000000000000000000000001::STC::STC"],a=[t.ownerAddress,"".concat(t.airDropId),'x"'.concat(t.root.slice(2),'"'),"".concat(t.idx,"u64")];console.log(a);var i=yield new Promise(function(e,t){return n.send("contract.call_v2",[{function_id:"0xb987F1aB0D7879b2aB421b98f96eFb44::MerkleDistributor2::is_claimd",type_args:c,args:a}]).then(function(n){n&&Array.isArray(n)&&n.length?e(n[0]):t(Error("fetch failed"))})});O.innerHTML="Claimed is ".concat(i),U.disabled=!1}}catch(e){throw O.innerHTML="Call Failed",U.disabled=!1,e}}))};function handleNewAccounts(e){console.log("stc accountsChanged",e),el=e,p.innerHTML=el,f.innerHTML&&(f.innerHTML=el),isStarMaskConnected()&&initializeAccountButtons(),updateButtons()}function handleNewChain(e){console.log("stc chainChanged",e),g.innerHTML=e}function handleNewNetwork(e){console.log("stc networkChanged",chainId),h.innerHTML=e}function _getNetworkAndChainId(){return(_getNetworkAndChainId=(0,c.Z)(function*(){try{var e=yield window.starcoin.request({method:"chain.id"});handleNewChain("0x".concat(e.id.toString(16))),handleNewNetwork(e.id)}catch(e){console.error(e)}})).apply(this,arguments)}if(Y.onclick=(0,c.Z)(function*(){J.innerHTML="Calling mintWithImage",Y.disabled=!0;try{var e,t="0x2c5bd5fb513108d4557107e09c51656c::SimpleNFTScripts::mint_with_image",c=[],i=[es.name,es.imageUrl,es.description],s=ei[window.starcoin.networkVersion];console.log({functionId:t,tyArgs:c,args:i,nodeUrl:s});var r=yield l.P6.tx.encodeScriptFunctionByResolve(t,c,i,s),o=(e=new l.$5.BcsSerializer,r.serialize(e),(0,a.Dv)(e.getBytes()));console.log({payloadInHex:o});var d=yield n.getSigner().sendUncheckedTransaction({data:o});console.log({transactionHash:d}),J.innerHTML="Call mintWithImage Completed",Y.disabled=!1}catch(e){throw J.innerHTML="Call mintWithImage Failed",Y.disabled=!1,e}}),X.onclick=(0,c.Z)(function*(){J.innerHTML="Calling mintWithImageData",X.disabled=!0;try{var e,t="0x2c5bd5fb513108d4557107e09c51656c::SimpleNFTScripts::mint_with_image_data",c=[],i=[es.name,es.imageData,es.description],s=ei[window.starcoin.networkVersion];console.log({functionId:t,tyArgs:c,args:i,nodeUrl:s});var r=yield l.P6.tx.encodeScriptFunctionByResolve(t,c,i,s),o=(e=new l.$5.BcsSerializer,r.serialize(e),(0,a.Dv)(e.getBytes()));console.log({payloadInHex:o});var d=yield n.getSigner().sendUncheckedTransaction({data:o});console.log({transactionHash:d}),J.innerHTML="Call mintWithImageData Completed",X.disabled=!1}catch(e){throw J.innerHTML="Call mintWithImageData Failed",X.disabled=!1,e}}),q.onclick=(0,c.Z)(function*(){J.innerHTML="Calling isAcceptNFT",q.disabled=!0;try{var e=["0x2c5bd5fb513108d4557107e09c51656c::SimpleNFT::SimpleNFT","0x2c5bd5fb513108d4557107e09c51656c::SimpleNFT::SimpleNFTBody"],t=["0x3f19d5422824f47E6C021978CeE98f35"];console.log(t);var c=yield new Promise(function(c,a){return n.send("contract.call_v2",[{function_id:"0x1::NFTGallery::is_accept",type_args:e,args:t}]).then(function(e){e&&Array.isArray(e)&&e.length?c(e[0]):a(Error("fetch failed"))})});J.innerHTML="isAcceptNFT is ".concat(c),q.disabled=!1}catch(e){throw J.innerHTML="Call isAcceptNFT Failed",q.disabled=!1,e}}),$.onclick=(0,c.Z)(function*(){J.innerHTML="Calling acceptNFT",$.disabled=!0;try{var e,t="0x1::NFTGalleryScripts::accept",c=["0x2c5bd5fb513108d4557107e09c51656c::SimpleNFT::SimpleNFT","0x2c5bd5fb513108d4557107e09c51656c::SimpleNFT::SimpleNFTBody"],i=[],s=ei[window.starcoin.networkVersion];console.log({functionId:t,tyArgs:c,args:i,nodeUrl:s});var r=yield l.P6.tx.encodeScriptFunctionByResolve(t,c,i,s),o=(e=new l.$5.BcsSerializer,r.serialize(e),(0,a.Dv)(e.getBytes()));console.log({payloadInHex:o});var d=yield n.getSigner().sendUncheckedTransaction({data:o});console.log({transactionHash:d}),J.innerHTML="Call acceptNFT Completed",$.disabled=!1}catch(e){throw J.innerHTML="Call acceptNFT Failed",$.disabled=!1,e}}),Q.onclick=(0,c.Z)(function*(){J.innerHTML="Calling transferNFT",Q.disabled=!0;try{var e,t="0x1::NFTGalleryScripts::transfer",c=["0x2c5bd5fb513108d4557107e09c51656c::SimpleNFT::SimpleNFT","0x2c5bd5fb513108d4557107e09c51656c::SimpleNFT::SimpleNFTBody"],i=[7,"0xD7f20bEFd34B9f1ab8aeae98b82a5A51"],s=ei[window.starcoin.networkVersion];console.log({functionId:t,tyArgs:c,args:i,nodeUrl:s});var r=yield l.P6.tx.encodeScriptFunctionByResolve(t,c,i,s),o=(e=new l.$5.BcsSerializer,r.serialize(e),(0,a.Dv)(e.getBytes()));console.log({payloadInHex:o});var d=yield n.getSigner().sendUncheckedTransaction({data:o});console.log({transactionHash:d}),J.innerHTML="Call transferNFT Completed",Q.disabled=!1}catch(e){throw J.innerHTML="Call transferNFT Failed",Q.disabled=!1,e}}),K.onclick=(0,c.Z)(function*(){et.innerHTML="Calling isAutoAcceptToken",K.disabled=!0;try{var e=yield window.starcoin.request({method:"state.get_resource",params:[el[0],"0x1::Account::AutoAcceptToken"]});et.innerHTML=e&&e.raw&&parseInt(e.raw,16)?"On":"Off",K.disabled=!1}catch(e){throw et.innerHTML="Call isAutoAcceptToken Failed",K.disabled=!1,e}}),ee.onclick=(0,c.Z)(function*(){et.innerHTML="Turn On",console.log([el[0]]);try{var e,t=l.P6.tx.encodeScriptFunction("0x1::AccountScripts::enable_auto_accept_token",[],[]),c=(e=new l.$5.BcsSerializer,t.serialize(e),(0,a.Dv)(e.getBytes()));console.log({payloadInHex:c});var i={data:c};if((0,o.qu)(l.i8||"1.0.0","1.8.0",">=")&&document.getElementById("addGasBufferMultiplier").value){var s=parseFloat(document.getElementById("addGasBufferMultiplier").value,10)||1.5;i.addGasBufferMultiplier=s}var r=parseInt(document.getElementById("expiredSecsInput").value,10);r>0&&(i.expiredSecs=r);var d=yield n.getSigner().sendUncheckedTransaction(i);console.log({transactionHash:d})}catch(e){throw et.innerHTML="Call Failed",e}et.innerHTML="Call Completed"}),en.onclick=(0,c.Z)(function*(){et.innerHTML="Turn Off";try{var e,t=l.P6.tx.encodeScriptFunction("0x1::AccountScripts::disable_auto_accept_token",[],[]),c={data:(e=new l.$5.BcsSerializer,t.serialize(e),(0,a.Dv)(e.getBytes()))},i=parseInt(document.getElementById("expiredSecsInput").value,10);i>0&&(c.expiredSecs=i);var s=yield n.getSigner().sendUncheckedTransaction(c);console.log({transactionHash:s})}catch(e){throw et.innerHTML="Call Failed",e}et.innerHTML="Call Completed"}),updateButtons(),b()){window.starcoin.autoRefreshOnNetworkChange=!1,function(){_getNetworkAndChainId.apply(this,arguments)}();try{var eu=yield window.starcoin.request({method:"stc_accounts"});handleNewAccounts(eu)}catch(e){console.error("Error on init when getting accounts",e)}window.starcoin.on("chainChanged",handleNewChain),window.starcoin.on("networkChanged",handleNewNetwork),window.starcoin.on("accountsChanged",handleNewAccounts)}}),function(){return t.apply(this,arguments)})()},[])}},91954:function(e){e.exports={main:"styles_main__e_oSR"}},88677:function(){},7420:function(){},46601:function(){},89214:function(){},65881:function(){},89020:function(){},69386:function(){},31616:function(){},6567:function(){},88924:function(){},55024:function(){}}]);
//# sourceMappingURL=7713.1ddbcbc1f46a9f62.js.map